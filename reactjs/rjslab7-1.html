<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="albertprofe">
<meta name="description" content="labs">

<title>Lab#RE07-1: traffic lights simulation – albertprofe wiki</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="..//images/home/favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-23504dfa93b9834cc4e0ed111f21ac64.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-23504dfa93b9834cc4e0ed111f21ac64.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-8654f46d95255d4aca9b36c8f0882426.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">albertprofe wiki</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-linux-os" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Linux OS</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-linux-os">    
        <li class="dropdown-header">Linux: concepts</li>
        <li>
    <a class="dropdown-item" href="../linux/linux-what-basics.html">
 <span class="dropdown-text">Linux: basic concepts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/linux-what-bash.html">
 <span class="dropdown-text">Linux: Bash</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/linux-what-sudo.html">
 <span class="dropdown-text">Linux: su and sudo</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/linux-what-pipes.html">
 <span class="dropdown-text">Linux: pipes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/linux-what-fsys.html">
 <span class="dropdown-text">Linux: File System</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/linux-what-vm.html">
 <span class="dropdown-text">Linux: Virtual Machines</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Linux: distros</li>
        <li>
    <a class="dropdown-item" href="../linux/linux-distros-ubuntu.html">
 <span class="dropdown-text">Linux Distros: Ubuntu</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/linux-distros-mint.html">
 <span class="dropdown-text">Linux Distros: Mint</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/linux-distros-debian.html">
 <span class="dropdown-text">Linux Distros: Debian</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/linux-distros-opensuse.html">
 <span class="dropdown-text">Linux Distros: openSuse</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/linux-distros-manjaro.html">
 <span class="dropdown-text">Linux Distros: Manjaro</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/linux-distros-redhat.html">
 <span class="dropdown-text">Linux Distros: Red Hat Enterprise</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Linux: laboratories</li>
        <li>
    <a class="dropdown-item" href="../linux/lilab01-1.html">
 <span class="dropdown-text">Linux Lab#LI01-1: Choose Linux</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/lilab01-2.html">
 <span class="dropdown-text">Linux Lab#LI01-2: Install at least three distributions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/lilab01-3.html">
 <span class="dropdown-text">Linux Lab#LI01-3: Adjust user permissions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/lilab02-1.html">
 <span class="dropdown-text">Linux Lab#LI02-1: Export env user with grep and pipe</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/lilab03-1.html">
 <span class="dropdown-text">Linux Lab#LI03-1: Manage users and groups</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/lilab03-2.html">
 <span class="dropdown-text">Linux Lab#LI03-2: Manage files</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/lilab03-3.html">
 <span class="dropdown-text">Linux Lab#LI03-3: Manage software</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/lilab03-4.html">
 <span class="dropdown-text">Linux Lab#LI03-4: Manage hardware</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/lilab04-1.html">
 <span class="dropdown-text">Linux Lab#LI04-1: Bash scripting, qtool</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/lilab04-2.html">
 <span class="dropdown-text">Linux Lab#LI04-2: Bash scripts as terminal tool</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../linux/lilab04-3.html">
 <span class="dropdown-text">Linux Lab#LI04-3: Distribute the terminal app</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Linux readings</li>
        <li>
    <a class="dropdown-item" href="../linux/resources.html">
 <span class="dropdown-text">Linux Resources</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-devops" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">DevOps</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-devops">    
        <li class="dropdown-header">What is DevOps</li>
        <li>
    <a class="dropdown-item" href="../devops/devops-what-intro.html">
 <span class="dropdown-text">DevOps: Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-what-agile-microservice.html">
 <span class="dropdown-text">DevOps: Agile and Microservices</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-what-infraascode.html">
 <span class="dropdown-text">Infrastructure as code (IaC)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-what-immutable.html">
 <span class="dropdown-text">Immutable Infrastructure</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-what-lifecycle.html">
 <span class="dropdown-text">Software Lifecycle</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Documentation</li>
        <li>
    <a class="dropdown-item" href="../devops/devops-doc-quarto.html">
 <span class="dropdown-text">How to document: Quarto and Obsidian</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Network protocols</li>
        <li>
    <a class="dropdown-item" href="../devops/devops-network-basics.html">
 <span class="dropdown-text">Network: Basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-network-clientserver.html">
 <span class="dropdown-text">Network: Client-server</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-network-protocols.html">
 <span class="dropdown-text">Network Protocols</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-network-dns.html">
 <span class="dropdown-text">Network: DNS</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-network-rest.html">
 <span class="dropdown-text">Network: API Rest</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-network-grpc.html">
 <span class="dropdown-text">Network: gRPC</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-network-websocket.html">
 <span class="dropdown-text">Network: Websocket</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-network-smtp.html">
 <span class="dropdown-text">Network: SMTP</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-network-ping.html">
 <span class="dropdown-text">Network: Ping</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-network-udp.html">
 <span class="dropdown-text">Network: UDP</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-network-webhook.html">
 <span class="dropdown-text">Network: webhook</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-network-soap.html">
 <span class="dropdown-text">Network: SOAP</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-network-graphql.html">
 <span class="dropdown-text">Network: graphQL</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Version Control</li>
        <li>
    <a class="dropdown-item" href="../devops/devops-vc-git.html">
 <span class="dropdown-text">Git</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-vc-github.html">
 <span class="dropdown-text">GitHub</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-vc-ideagithub.html">
 <span class="dropdown-text">Idea and GitHub 2023</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-vc-gitgh.html">
 <span class="dropdown-text">Git and GitHub 2023 CLI</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">IDEs</li>
        <li>
    <a class="dropdown-item" href="../devops/devops-ide-visualcode.html">
 <span class="dropdown-text">IDE: Visual Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-ide-intelljidea.html">
 <span class="dropdown-text">IDE: IntellJIdea</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">DevOps tools</li>
        <li>
    <a class="dropdown-item" href="../devops/devops-tools-aws.html">
 <span class="dropdown-text">Amazon Web Services AWS</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-tools-docker.html">
 <span class="dropdown-text">Docker</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-tools-jenkins.html">
 <span class="dropdown-text">Jenkins pipelines</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-tools-k8s.html">
 <span class="dropdown-text">Kubernetes k8s</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-tools-digitalocean.html">
 <span class="dropdown-text">Digital Ocean</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-tools-nagios.html">
 <span class="dropdown-text">Nagios</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-tools-ansible.html">
 <span class="dropdown-text">Ansible</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">DevOps Laboratories</li>
        <li>
    <a class="dropdown-item" href="../devops/devops-lab-chatapp.html">
 <span class="dropdown-text">Lab 1: chat App</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-lab-springbooksintro.html">
 <span class="dropdown-text">Lab 2: Spring Boot AWS AEB manually</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-lab-springbookss3.html">
 <span class="dropdown-text">Lab 3: Spring Boot and AWS S3 publisher</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-lab-springbooksdocker.html">
 <span class="dropdown-text">Lab 4: Spring Boot Docker/Jenkins</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-lab-k8sdigitalocean.html">
 <span class="dropdown-text">Lab 5: k8s on Digital Ocean</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../devops/devops-lab-springawsdeploy.html">
 <span class="dropdown-text">Lab 6: Spring Boot AWS codecommit</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">DevOps readings</li>
        <li>
    <a class="dropdown-item" href="../devops/resources.html">
 <span class="dropdown-text">DevOps Resources</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-markup" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">MarkUp</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-markup">    
        <li class="dropdown-header">MarkUp Languages</li>
        <li>
    <a class="dropdown-item" href="../markup/markup-lang-intro.html">
 <span class="dropdown-text">Introduction Markup</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../markup/markup-lang-html.html">
 <span class="dropdown-text">HTML Markup</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../markup/markup-lang-md.html">
 <span class="dropdown-text">Markdown Markup</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../markup/markup-lang-html-md.html">
 <span class="dropdown-text">Markdown and HTML working together, good idea?</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Quarto Markdown</li>
        <li>
    <a class="dropdown-item" href="../markup/markup-quarto-basics.html">
 <span class="dropdown-text">Quarto Markdown: basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../markup/markup-quarto-create.html">
 <span class="dropdown-text">Quarto Markdown: creating</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../markup/markup-quarto-publish.html">
 <span class="dropdown-text">Quarto Markdown: publishing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../markup/markup-quarto-code.html">
 <span class="dropdown-text">Quarto Markdown: code &amp; data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../markup/markup-quarto-api-rest.html">
 <span class="dropdown-text">Quarto Markdown: api rest call</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../markup/markup-quarto-api-rest-v2.html">
 <span class="dropdown-text">Quarto Markdown: OJS Cells</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../markup/markup-quarto-cheatsheet.html">
 <span class="dropdown-text">Quarto Markdown: cheat-sheet</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Styling: CSS</li>
        <li>
    <a class="dropdown-item" href="../markup/markup-css-basics.html">
 <span class="dropdown-text">Cascade Style Sheet</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../markup/markup-css-w3css.html">
 <span class="dropdown-text">CSS: W3.css</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">MarkUp Languages Laboratories</li>
        <li>
    <a class="dropdown-item" href="../markup/mulab1.html">
 <span class="dropdown-text">Lab#MD01-1: Create and publish by Quarto</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">MarkUp Languages readings</li>
        <li>
    <a class="dropdown-item" href="../markup/resources.html">
 <span class="dropdown-text">MarkUp Languages Resources</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-java-se" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Java SE</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-java-se">    
        <li class="dropdown-header">What is Java SE</li>
        <li>
    <a class="dropdown-item" href="../javase/se-what-basics.html">
 <span class="dropdown-text">Java Standard Edition: Basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-what-principles.html">
 <span class="dropdown-text">Java Standard Edition: Principles</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-what-moochelsinki.html">
 <span class="dropdown-text">Java MOOC Helsinki</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-what-moocsyllabus.html">
 <span class="dropdown-text">Java MOOC Helsinki Syllabus</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Java Create Project</li>
        <li>
    <a class="dropdown-item" href="../javase/se-concepts-maven.html">
 <span class="dropdown-text">Java SE: Maven</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-concepts-createproject.html">
 <span class="dropdown-text">Java SE: Create Maven Project</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-concepts-projectgit.html">
 <span class="dropdown-text">Java SE: Project push GitHub</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-concepts-tdd.html">
 <span class="dropdown-text">Java SE: JUnit and TDD</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Java Concepts</li>
        <li>
    <a class="dropdown-item" href="../javase/se-concepts-objects.html">
 <span class="dropdown-text">Java SE: Class and Objects</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-concepts-scope.html">
 <span class="dropdown-text">Java SE: Scope</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-concepts-static.html">
 <span class="dropdown-text">Java SE: static modifier</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-concepts-coupling.html">
 <span class="dropdown-text">Java SE: Coupling and DDD</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-concepts-package.html">
 <span class="dropdown-text">Java SE: Packages</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-concepts-interface.html">
 <span class="dropdown-text">Java SE: Abstract/Interface</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-concepts-java8.html">
 <span class="dropdown-text">Java SE: Java 8</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Java Principles</li>
        <li>
    <a class="dropdown-item" href="../javase/se-principles-encapsulation.html">
 <span class="dropdown-text">Java SE: Encapsulation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-principles-abstraction.html">
 <span class="dropdown-text">Java SE: Abstraction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-principles-inheritance.html">
 <span class="dropdown-text">Java SE: Inherence</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-principles-polymorphism.html">
 <span class="dropdown-text">Java SE: Polymorphism</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Java Design Patterns</li>
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-uml.html">
 <span class="dropdown-text">Java Patterns: UML</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-intro.html">
 <span class="dropdown-text">Java Patterns: Types</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-singleton.html">
 <span class="dropdown-text">Singleton</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-factory.html">
 <span class="dropdown-text">Factory</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-abstractfactory.html">
 <span class="dropdown-text">Abstract Factory</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-builder.html">
 <span class="dropdown-text">Builder</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-facade.html">
 <span class="dropdown-text">Facade</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-bridge.html">
 <span class="dropdown-text">Bridge</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-decorator.html">
 <span class="dropdown-text">Decorator</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-composite.html">
 <span class="dropdown-text">Composite</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-observer.html">
 <span class="dropdown-text">Observer</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-strategy.html">
 <span class="dropdown-text">Strategy</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-state.html">
 <span class="dropdown-text">State</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/se-pattern-commander.html">
 <span class="dropdown-text">Commander</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Java SE Laboratories</li>
        <li>
    <a class="dropdown-item" href="../javase/selab0-1.html">
 <span class="dropdown-text">Lab#SE00-1: Maven Person</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab0-2.html">
 <span class="dropdown-text">Lab#SE00-2: Maven Clinic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab0-3.html">
 <span class="dropdown-text">Lab#SE00-3: Library Model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab0-4.html">
 <span class="dropdown-text">Lab#SE00-4: Abstract/Interface Human</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab1-1.html">
 <span class="dropdown-text">Lab#SE01-1: Maven/Gradle Person and Account</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab1-2.html">
 <span class="dropdown-text">Lab#SE01-2: Maven/Gradle Person and Account stored in JSON</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab2-1.html">
 <span class="dropdown-text">Lab#SE02-1: Movie/Review, Model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab2-2.html">
 <span class="dropdown-text">Lab#SE02-2: Movie/Review, CRUD Operations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab2-3.html">
 <span class="dropdown-text">Lab#SE02-3: Movie/Review, factory</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab2-4.html">
 <span class="dropdown-text">Lab#SE02-4: Movie/Review, interactivity and coupling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab2-5.html">
 <span class="dropdown-text">Lab#SE02-5: Movie/Review, simulate interactivity by console</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab3-1.html">
 <span class="dropdown-text">Lab#SE03-1: Library/Book, Core-Model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab3-2.html">
 <span class="dropdown-text">Lab#SE03-2: Library/Book, Sprint Zero</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab3-3.html">
 <span class="dropdown-text">Lab#SE03-3: Library/Book, Expand Model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../javase/selab4-1.html">
 <span class="dropdown-text">Lab#SE04-1: healthyFood Restaurant, Core Model</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Java SE readings</li>
        <li>
    <a class="dropdown-item" href="../javase/resources.html">
 <span class="dropdown-text">Java SE Resources</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-spring" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Spring</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-spring">    
        <li class="dropdown-header">Spring Legacy</li>
        <li>
    <a class="dropdown-item" href="../spring/spring-basics.html">
 <span class="dropdown-text">Spring Framework</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../spring/spring-mvc.html">
 <span class="dropdown-text">Spring MVC</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../spring/spring-servlets.html">
 <span class="dropdown-text">Springs Servlets</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Spring Boot Basics</li>
        <li>
    <a class="dropdown-item" href="../springboot/boot-what-basics.html">
 <span class="dropdown-text">Spring Boot: fundamentals</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-what-create.html">
 <span class="dropdown-text">Spring Boot: create a Project</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-what-create-th-h2.html">
 <span class="dropdown-text">Spring Boot: H2 DB and Thymeleaf</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-what-cycle.html">
 <span class="dropdown-text">Spring Boot: cycle</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Spring Boot Concepts</li>
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-injection.html">
 <span class="dropdown-text">Spring Boot: Dependency Injection</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-annotations.html">
 <span class="dropdown-text">Spring Boot: Annotations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-controller.html">
 <span class="dropdown-text">Spring Boot: Controller</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-view.html">
 <span class="dropdown-text">Spring Boot: View</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-th.html">
 <span class="dropdown-text">Spring Boot: Thymeleaf</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-vaadin-flow.html">
 <span class="dropdown-text">Spring Boot: Vaadin Flow</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-vaadin-hilla.html">
 <span class="dropdown-text">Spring Boot: Vaadin Hilla</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-model.html">
 <span class="dropdown-text">Spring Boot: Model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-rest.html">
 <span class="dropdown-text">Spring Boot: Rest</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-data.html">
 <span class="dropdown-text">Spring Boot: Data &amp; DB</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-jpa.html">
 <span class="dropdown-text">Spring Boot: JPA &amp; DI</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-jpa-2.html">
 <span class="dropdown-text">Spring Boot: JPA Mappings</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-jpa-3.html">
 <span class="dropdown-text">Spring Boot: JPA Relationships</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-jpa-4.html">
 <span class="dropdown-text">Spring Boot: JPA Queries</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-jpa-5.html">
 <span class="dropdown-text">Spring Boot: JPA Inherence</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/boot-concepts-scaling.html">
 <span class="dropdown-text">Spring Boot: Scaling</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Spring Boot Laboratories</li>
        <li>
    <a class="dropdown-item" href="../springboot/sblab0-1.html">
 <span class="dropdown-text">Lab#SB00-1: Library UML</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab0-2.html">
 <span class="dropdown-text">Lab#SB00-2: CRUD User</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab0-3.html">
 <span class="dropdown-text">Lab#SB00-3: LibraryManagement</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab0-4.html">
 <span class="dropdown-text">Lab#SB00-4: API Rest</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab0-5.html">
 <span class="dropdown-text">Lab#SB00-5: Rest &amp; JPA-H2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab0-6.html">
 <span class="dropdown-text">Lab#SB00-6: Rest &amp; MongoDB</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab0-7.html">
 <span class="dropdown-text">Lab#SB00-7: Styling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab1.html">
 <span class="dropdown-text">Lab#SB01-1: DataBase</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab2.html">
 <span class="dropdown-text">Lab#SB02-1: <code>JPA</code> Relationships</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab3.html">
 <span class="dropdown-text">Lab#SB03-1: APIs &amp; cloud</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab4.html">
 <span class="dropdown-text">Lab#SB04-1: <code>JPA</code> Inherence</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab5.html">
 <span class="dropdown-text">Lab#SB05-1: API Rest</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab6.html">
 <span class="dropdown-text">Lab#SB06-1: <code>employeeCourse</code></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab7.html">
 <span class="dropdown-text">Lab#SB07-1: <code>monitor Book</code></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab8-1.html">
 <span class="dropdown-text">Lab#SB08-1: Restaurant UML</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab8-2.html">
 <span class="dropdown-text">Lab#SB08-2: Vaadin</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab8-3.html">
 <span class="dropdown-text">Lab#SB08-3: H2 and API Rest</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab8-4.html">
 <span class="dropdown-text">Lab#SB08-4: JPA</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab8-5.html">
 <span class="dropdown-text">Lab#SB08-5: Test API Rest</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../springboot/sblab9-1.html">
 <span class="dropdown-text">Lab#SB09-1: SpringIO Conference</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Spring Boot readings</li>
        <li>
    <a class="dropdown-item" href="../springboot/resources.html">
 <span class="dropdown-text">Spring Boot Resources</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-reactjs" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">ReactJS</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-reactjs">    
        <li class="dropdown-header">ReactJS: Principles</li>
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-what-principles.html">
 <span class="dropdown-text">React JS: Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-what-render-dom.html">
 <span class="dropdown-text">React JS: render virtual DOM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-what-create.html">
 <span class="dropdown-text">React JS: Create a React project</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-what-components.html">
 <span class="dropdown-text">React JS: Components</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-what-jsx.html">
 <span class="dropdown-text">React JS: JSX</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-what-props.html">
 <span class="dropdown-text">React JS: props and state</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">JavaScript: web scripting</li>
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-js-basics.html">
 <span class="dropdown-text">JavaScript: basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-js-functions.html">
 <span class="dropdown-text">JavaScript: functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-js-objects.html">
 <span class="dropdown-text">JavaScript: objects</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-js-variables.html">
 <span class="dropdown-text">JavaScript: variables</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-js-flux.html">
 <span class="dropdown-text">JavaScript: flux control</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">ES6: ECMAScript 6</li>
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-es6-arrow.html">
 <span class="dropdown-text">React JS ES6: arrow functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-es6-import.html">
 <span class="dropdown-text">React JS ES6: import modules</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-es6-data.html">
 <span class="dropdown-text">React JS ES6: array, data and key</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-es6-destructuring.html">
 <span class="dropdown-text">React JS ES6: destructuring</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-es6-spread.html">
 <span class="dropdown-text">React JS ES6: spread operator</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">ReacJS 18: Hooks</li>
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-hook-rules.html">
 <span class="dropdown-text">React JS: Rules of Hooks</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-hook-state.html">
 <span class="dropdown-text">ReactJS: useState</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-hook-reducer.html">
 <span class="dropdown-text">React JS: useReducer</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-hook-ref.html">
 <span class="dropdown-text">React JS: useRef</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-hook-effect.html">
 <span class="dropdown-text">React JS: useEffect</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-hook-context.html">
 <span class="dropdown-text">React JS: useContext</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-hook-memo.html">
 <span class="dropdown-text">ReactJS: useMemo</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-hook-custom.html">
 <span class="dropdown-text">ReactJS: custom hooks</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">ReactJS: Designing an App</li>
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-app-async.html">
 <span class="dropdown-text">React JS App: async</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-app-events.html">
 <span class="dropdown-text">React JS App: events</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-app-router.html">
 <span class="dropdown-text">React JS App: router</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-app-conditional-render.html">
 <span class="dropdown-text">React JS App: conditional render</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/reactjs-app-styling.html">
 <span class="dropdown-text">React JS App: styling</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">React JS: Laboratories</li>
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab1.html">
 <span class="dropdown-text">Lab#RE01-1: API Rest Axios</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab2.html">
 <span class="dropdown-text">Lab#RE02-1: Router &amp; Hooks</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab3.html">
 <span class="dropdown-text">Lab#RE03-1: to-do app</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab3-2.html">
 <span class="dropdown-text">Lab#RE03-2: HighCharts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab3-3.html">
 <span class="dropdown-text">Lab#RE03-3: API Rest Mono</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab3-4.html">
 <span class="dropdown-text">Lab#RE03-4: API Rest Domains</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab3-5.html">
 <span class="dropdown-text">Lab#RE03-5: data management</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab4.html">
 <span class="dropdown-text">Lab#RE04-1: todo &amp; server</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab4-2.html">
 <span class="dropdown-text">Lab#RE04-2: Spring Boot &amp; ReactJS</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab5-1.html">
 <span class="dropdown-text">Lab#RE05-1: chat &amp; websockets</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab5-2.html">
 <span class="dropdown-text">Lab#RE05-2: chat: backend</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab5-3.html">
 <span class="dropdown-text">Lab#RE05-3: chat &amp; AWS</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab5-4.html">
 <span class="dropdown-text">Lab#RE05-4: chat: test ws AWS</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab5-5.html">
 <span class="dropdown-text">Lab#RE05-5: chat &amp; front</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab5-6.html">
 <span class="dropdown-text">Lab#RE05-6: chat &amp; ws: front</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab6-1.html">
 <span class="dropdown-text">Lab#RE06-1: healthyFood Restaurant</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab6-1-PR.html">
 <span class="dropdown-text">Lab#RE06-1-PR: create a pull request</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reactjs/rjslab7-1.html">
 <span class="dropdown-text">Lab#RE07-1: traffic lights simulation</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">React JS readings</li>
        <li>
    <a class="dropdown-item" href="../reactjs/resources.html">
 <span class="dropdown-text">ReactJS Resources</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-scrum" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">SCRUM</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-scrum">    
        <li class="dropdown-header">What is SCRUM</li>
        <li>
    <a class="dropdown-item" href="../scrum/scrum-what-concepts.html">
 <span class="dropdown-text">SCRUM Agile Methodology</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-what-agile-manifesto.html">
 <span class="dropdown-text">Agile Manifesto &amp; Values</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-what-guide.html">
 <span class="dropdown-text">SCRUM Guide</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Weeks</li>
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week1.html">
 <span class="dropdown-text">Week 1: Meetings, Impediments and Iterations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week2.html">
 <span class="dropdown-text">Week 2: User stories, Tasks and Habits</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week3.html">
 <span class="dropdown-text">Week 3: Delivering Value &amp; Communication</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week4.html">
 <span class="dropdown-text">Week 4: ScrumMaster, how it works</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week5.html">
 <span class="dropdown-text">Week 5: Mindset, the key to everything</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week6.html">
 <span class="dropdown-text">Week 6: Product Owner, how it works</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week7.html">
 <span class="dropdown-text">Week 7: Managing Time &amp; Mind</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week8.html">
 <span class="dropdown-text">Week 8: Team &amp; the Specialist</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week9.html">
 <span class="dropdown-text">Week 9: Albertus’ Dilemma</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week10.html">
 <span class="dropdown-text">Week 10: Before SCRUM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week11.html">
 <span class="dropdown-text">Week 11: Team Dynamics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week12.html">
 <span class="dropdown-text">Week 12: Emotions and Thoughts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week13.html">
 <span class="dropdown-text">Week 13: Decision Making and Intuition</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week14.html">
 <span class="dropdown-text">Week 14: Beyond SCRUM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrum-week15.html">
 <span class="dropdown-text">Week 15: Balances, atmosphere and tools</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">SCRUM: Laboratories</li>
        <li>
    <a class="dropdown-item" href="../scrum/scrumlab0.html">
 <span class="dropdown-text">SCRUM Lab#SC00: Timetable</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrumlab1.html">
 <span class="dropdown-text">SCRUM Lab#SC01: Paper Airplanes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrumlab2.html">
 <span class="dropdown-text">SCRUM Lab#SC02: Spaguetti Challenge</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrumlab3.html">
 <span class="dropdown-text">SCRUM Lab#SC03: Books Project</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrumlab4.html">
 <span class="dropdown-text">SCRUM Lab#SC04: Final Project</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../scrum/scrumlab5.html">
 <span class="dropdown-text">SCRUM Lab#SC05: SCRUM Tests</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Resources</li>
        <li>
    <a class="dropdown-item" href="../scrum/resources.html">
 <span class="dropdown-text">SCRUM Resources</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-learning" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Learning</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-learning">    
        <li class="dropdown-header">Vocabulary</li>
        <li>
    <a class="dropdown-item" href="../learning/learning-vocab-general.html">
 <span class="dropdown-text">General Vocabulary</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-vocab-scrum.html">
 <span class="dropdown-text">SCRUM Vocabulary</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-vocab-devops.html">
 <span class="dropdown-text">DevOps Vocabulary</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-vocab-java-se.html">
 <span class="dropdown-text">Java SE Vocabulay</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-vocab-spring-boot.html">
 <span class="dropdown-text">Spring Boot Vocabulary</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-vocab-data-base.html">
 <span class="dropdown-text">DataBase Vocabulary</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-vocab-reactjs.html">
 <span class="dropdown-text">ReactJS Vocabulary</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-vocab-web.html">
 <span class="dropdown-text">Web Vocabulary</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Learning</li>
        <li>
    <a class="dropdown-item" href="../learning/learning-how-questions.html">
 <span class="dropdown-text">Useful Questions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-how-tips.html">
 <span class="dropdown-text">Learning: tips</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-how-writing.html">
 <span class="dropdown-text">Writing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-how-take-notes.html">
 <span class="dropdown-text">Taking Notes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-how-write-comments.html">
 <span class="dropdown-text">Comments</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-how-document.html">
 <span class="dropdown-text">Document</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-how-auto-evaluate.html">
 <span class="dropdown-text">Auto-Evaluate</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Books &amp; Articles</li>
        <li>
    <a class="dropdown-item" href="../learning/learning-listing-table-books.html">
 <span class="dropdown-text">Books table</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-listing-card-books.html">
 <span class="dropdown-text">Books cards</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-listing-table-articles.html">
 <span class="dropdown-text">Articles table</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../learning/learning-listing-card-articles.html">
 <span class="dropdown-text">Articles cards</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-training" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Training</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-training">    
        <li class="dropdown-header">IFCD0210-25 Docs</li>
        <li>
    <a class="dropdown-item" href="../ifcd0210-25/ifcd0210-25.html">
 <span class="dropdown-text">IFCD0210 Official Docs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ifcd0210-25/ifcd0210-deliveries-25.html">
 <span class="dropdown-text">IFCD0210 Calendar &amp; Deliveries</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ifcd0210-25/ifcd0210-backlog-sprint-25.html">
 <span class="dropdown-text">IFCD0210 Sprint Backlog</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ifcd0210-25/ifcd0210-backlog-product-25.html">
 <span class="dropdown-text">IFCD0210 Product Backlog</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Archived</li>
        <li>
    <a class="dropdown-item" href="../ifct116-24/ifct116-24.html">
 <span class="dropdown-text">IFCT116-24 Docs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ifcd0021-24/ifcd0021-24.html">
 <span class="dropdown-text">IFCD0021-24 Docs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ifcd0210-24/ifcd0210-24.html">
 <span class="dropdown-text">IFCD0210-24 Docs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ifcd044/ifcd044.html">
 <span class="dropdown-text">IFCD044 Docs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ifct034po/ifct034po.html">
 <span class="dropdown-text">IFCT034PO Docs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ifcd0210/ifcd0210.html">
 <span class="dropdown-text">IFCD0210 Docs</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-about" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">About</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-about">    
        <li class="dropdown-header">About me and this site</li>
        <li>
    <a class="dropdown-item" href="../about/about-this-me.html">
 <span class="dropdown-text">About me</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../about/about-this-developer.html">
 <span class="dropdown-text">About a developer</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../about/about-this-site.html">
 <span class="dropdown-text">About this site</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../about/about-this-images-credit.html">
 <span class="dropdown-text">About images credit</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../reactjs/rjslab1.html">React JS: Laboratories</a></li><li class="breadcrumb-item"><a href="../reactjs/rjslab7-1.html">Lab#RE07-1: traffic lights simulation</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
 <span class="menu-text">ReactJS</span>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">ReactJS: Principles</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-what-principles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS: Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-what-render-dom.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS: render virtual DOM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-what-create.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS: Create a React project</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-what-components.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS: Components</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-what-jsx.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS: JSX</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-what-props.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS: props and state</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">JavaScript: web scripting</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-js-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JavaScript: basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-js-functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JavaScript: functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-js-objects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JavaScript: objects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-js-variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JavaScript: variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-js-flux.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JavaScript: flux control</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">ES6: ECMAScript 6</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-es6-arrow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS ES6: arrow functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-es6-import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS ES6: import modules</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-es6-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS ES6: array, data and key</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-es6-destructuring.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS ES6: destructuring</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-es6-spread.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS ES6: spread operator</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">ReacJS 18: Hooks</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-hook-rules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS: Rules of Hooks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-hook-state.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ReactJS: useState</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-hook-reducer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS: useReducer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-hook-ref.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS: useRef</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-hook-effect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS: useEffect</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-hook-context.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS: useContext</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-hook-memo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ReactJS: useMemo</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-hook-custom.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ReactJS: custom hooks</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">ReactJS: Designing an App</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-app-async.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS App: async</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-app-events.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS App: events</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-app-router.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS App: router</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-app-conditional-render.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS App: conditional render</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/reactjs-app-styling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">React JS App: styling</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">React JS: Laboratories</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE01-1: API Rest Axios</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE02-1: Router &amp; Hooks</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE03-1: to-do app</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab3-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE03-2: HighCharts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab3-3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE03-3: API Rest Mono</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab3-4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE03-4: API Rest Domains</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab3-5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE03-5: data management</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE04-1: todo &amp; server</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab4-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE04-2: Spring Boot &amp; ReactJS</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab5-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE05-1: chat &amp; websockets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab5-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE05-2: chat: backend</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab5-3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE05-3: chat &amp; AWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab5-4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE05-4: chat: test ws AWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab5-5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE05-5: chat &amp; front</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab5-6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE05-6: chat &amp; ws: front</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab6-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE06-1: healthyFood Restaurant</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab6-1-PR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab#RE06-1-PR: create a pull request</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/rjslab7-1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Lab#RE07-1: traffic lights simulation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false">
 <span class="menu-text">React JS readings</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reactjs/resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ReactJS Resources</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#references" id="toc-references" class="nav-link active" data-scroll-target="#references"><span class="header-section-number">1</span> References</a>
  <ul>
  <li><a href="#scripts-and-tools" id="toc-scripts-and-tools" class="nav-link" data-scroll-target="#scripts-and-tools"><span class="header-section-number">1.1</span> Scripts and tools</a></li>
  </ul></li>
  <li><a href="#create-project" id="toc-create-project" class="nav-link" data-scroll-target="#create-project"><span class="header-section-number">2</span> Create project</a>
  <ul>
  <li><a href="#vite" id="toc-vite" class="nav-link" data-scroll-target="#vite"><span class="header-section-number">2.1</span> Vite</a></li>
  </ul></li>
  <li><a href="#mock-up" id="toc-mock-up" class="nav-link" data-scroll-target="#mock-up"><span class="header-section-number">3</span> Mock-up</a></li>
  <li><a href="#step-by-step-code" id="toc-step-by-step-code" class="nav-link" data-scroll-target="#step-by-step-code"><span class="header-section-number">4</span> Step-by-step code</a>
  <ul>
  <li><a href="#react-functions-components" id="toc-react-functions-components" class="nav-link" data-scroll-target="#react-functions-components"><span class="header-section-number">4.1</span> React functions &amp; components</a></li>
  <li><a href="#core-business-logic-use-case" id="toc-core-business-logic-use-case" class="nav-link" data-scroll-target="#core-business-logic-use-case"><span class="header-section-number">4.2</span> Core Business logic &amp; use case</a></li>
  <li><a href="#adding-graphics-improving-business-logic" id="toc-adding-graphics-improving-business-logic" class="nav-link" data-scroll-target="#adding-graphics-improving-business-logic"><span class="header-section-number">4.3</span> Adding graphics &amp; improving business logic</a></li>
  <li><a href="#adding-domains-react-router-dom" id="toc-adding-domains-react-router-dom" class="nav-link" data-scroll-target="#adding-domains-react-router-dom"><span class="header-section-number">4.4</span> Adding domains: react-router-dom</a></li>
  <li><a href="#data-simulation" id="toc-data-simulation" class="nav-link" data-scroll-target="#data-simulation"><span class="header-section-number">4.5</span> Data: <code>simulation</code></a></li>
  <li><a href="#fetching-data-fake-server" id="toc-fetching-data-fake-server" class="nav-link" data-scroll-target="#fetching-data-fake-server"><span class="header-section-number">4.6</span> Fetching data: fake server</a></li>
  <li><a href="#rendering-data-mysimulations" id="toc-rendering-data-mysimulations" class="nav-link" data-scroll-target="#rendering-data-mysimulations"><span class="header-section-number">4.7</span> Rendering data: <code>MySimulations</code></a></li>
  <li><a href="#backend-spring-boot" id="toc-backend-spring-boot" class="nav-link" data-scroll-target="#backend-spring-boot"><span class="header-section-number">4.8</span> Backend: Spring Boot</a></li>
  <li><a href="#adding-user-login-fake-token" id="toc-adding-user-login-fake-token" class="nav-link" data-scroll-target="#adding-user-login-fake-token"><span class="header-section-number">4.9</span> Adding <code>user</code>: login &amp; fake-token</a></li>
  </ul></li>
  <li><a href="#code" id="toc-code" class="nav-link" data-scroll-target="#code"><span class="header-section-number">5</span> Code</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/Albertprofe/wiki/edit/master/reactjs/rjslab7-1.qmd" target="_blank" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/Albertprofe/wiki/issues/new" target="_blank" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../reactjs/rjslab1.html">React JS: Laboratories</a></li><li class="breadcrumb-item"><a href="../reactjs/rjslab7-1.html">Lab#RE07-1: traffic lights simulation</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Lab#RE07-1: traffic lights simulation</h1>
<p class="subtitle lead">ReactJS labs</p>
  <div class="quarto-categories">
    <div class="quarto-category">reactjs</div>
    <div class="quarto-category">lab</div>
    <div class="quarto-category">Lab#RE07</div>
  </div>
  </div>

<div>
  <div class="description">
    labs
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>albertprofe </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Tuesday, June 1, 2021</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">Friday, November 1, 2024</p>
    </div>
  </div>
    
  </div>
  


</header>


<div class="labs">
<p>📘 <strong>React JS Lab#RE07-1: Traffic Lights Simulation</strong></p>
<p>In this lab, we’ll delve into building a <strong>traffic lights simulation</strong> using <code>React.js</code>. Here’s an overview of what we’ll cover:</p>
<ol type="1">
<li><p><strong>Project Setup</strong>: We’ll kick off by creating a new React project using <strong>Vite</strong>, a modern build tool.</p>
<ol type="1">
<li>With Vite’s fast build times, we’ll set up our project environment swiftly.</li>
</ol></li>
<li><p><strong>CSS Inline Styling</strong>: Instead of separate CSS files, we’ll utilize inline styling for our components.</p>
<ol type="1">
<li>This approach keeps our styling concise and localized within each component.</li>
</ol></li>
<li><p><strong>JSX Components</strong>: We’ll dive into JSX, a syntax extension for JavaScript often used with React. JSX allows us to write HTML-like code within JavaScript, making it seamless to create UI components.</p></li>
<li><p><strong>Business Logic Management with Hooks, Literal Objects &amp; timout</strong>:</p>
<ol type="1">
<li>We’ll leverage <code>literal objects</code> for organized state management.</li>
<li>We’ll manage our <marl>form state using React hooks like (these hooks empower us to handle stateful logic effectively within functional components):
<ol type="1">
<li><code>useState</code>,</li>
<li><code>useMemo</code>,</li>
<li><code>useContext</code>,</li>
<li>and <code>useEffect</code></li>
</ol></marl></li>
<li><code>Timeouts for Simulation Logic</code>: We’ll incorporate <strong>timeouts</strong> to control the simulation flow.
<ol type="1">
<li>Timeouts allow us to delay certain actions, such as changing traffic light colors or updating pedestrian movements, adding an interactive and dynamic element to our traffic lights simulation.</li>
</ol></li>
</ol></li>
<li><p><strong>Form Management</strong>: We’ll dive into forms to manage <strong>user data</strong></p>
<ol type="1">
<li><strong>Axios</strong>: we will use <code>axios</code> to persist our data at <em>fake-server</em> <a href="https://mockapi.io/" class="external" target="_blank">mockapi</a></li>
</ol></li>
</ol>
<p>By the end of this lab, you’ll have gained hands-on experience in React.js development, mastering essential concepts like state management, JSX rendering, component styling, and integrating timeouts for simulation logic. This project serves as an engaging introduction to building dynamic web applications with React.</p>
</div>
<p><br></p>
<section id="references" class="level1 page-columns page-full" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> References</h1>
<section id="scripts-and-tools" class="level2 page-columns page-full" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="scripts-and-tools"><span class="header-section-number">1.1</span> Scripts and tools</h2>
<p><strong><code>React.dev</code> scripts</strong></p>
<details>
<summary>
Implement a traffic light
</summary>
<p>Here is a crosswalk light component that toggles when the button is pressed:</p>
<ul>
<li><a href="https://react.dev/learn/state-as-a-snapshot#challenges" class="external" target="_blank">Implement a traffic light</a></li>
<li><a href="https://codesandbox.io/p/sandbox/react-dev-mzqnh7?file=%2Fsrc%2FApp.js&amp;utm_medium=sandpack" class="external" target="_blank">codesandbox <strong>walking</strong></a></li>
</ul>
</details>
<details>
<summary>
Fix a request counter
</summary>
<p>You’re working on an art marketplace app that lets the user submit multiple orders for an art item at the same time. Each time the user presses the “Buy” button, the “Pending” counter should increase by one. After three seconds, the “Pending” counter should decrease, and the “Completed” counter should increase.</p>
<blockquote class="blockquote">
<p>However, the “Pending” counter does not behave as intended. When you press “Buy”, it decreases to -1 (which should not be possible!). And if you click fast twice, both counters seem to behave unpredictably.</p>
</blockquote>
<p>Why does this happen? Fix both counters.</p>
<ul>
<li><a href="https://react.dev/learn/queueing-a-series-of-state-updates#fix-a-request-counter" class="external" target="_blank">Implement a traffic light</a></li>
<li><a href="https://codesandbox.io/p/sandbox/react-dev-hl8cxc?file=%2Fsrc%2FApp.js&amp;utm_medium=sandpack" class="external" target="_blank">codesandbox <strong>marketplace</strong></a></li>
</ul>
</details>
<details>
<summary>
Treat state as read-only
</summary>
<p>In other words, you should treat any JavaScript object that you put into state as read-only.</p>
<p>This example holds an object in state to represent the current pointer position. The red dot is supposed to move when you touch or move the cursor over the preview area. But the dot stays in the initial position:</p>
<ul>
<li><a href="https://react.dev/learn/updating-objects-in-state#treat-state-as-read-only" class="external" target="_blank">Treat state as read-only</a></li>
<li><a href="https://codesandbox.io/p/sandbox/react-dev-5tfwx3?file=%2Fsrc%2FApp.js&amp;utm_medium=sandpack" class="external" target="_blank">codesandbox <strong>red-point</strong></a></li>
</ul>
</details>
<details>
<summary>
Copying objects with the spread syntax
</summary>
<p>In the previous example, the position object is always created fresh from the current cursor position. But often, you will want to include existing data as a part of the new object you’re creating. For example, you may want to update only one field in a form, but keep the previous values for all other fields.</p>
<p>These input fields don’t work because the onChange handlers mutate the state:</p>
<ul>
<li><a href="https://react.dev/learn/updating-objects-in-state#copying-objects-with-the-spread-syntax" class="external" target="_blank">Copying objects with the spread syntax</a></li>
<li><a href="https://codesandbox.io/p/sandbox/react-dev-xjd24m?file=%2Fsrc%2FApp.js&amp;utm_medium=sandpack" class="external" target="_blank">codesandbox <strong>form</strong></a></li>
</ul>
</details>
<details>
<summary>
Updating Arrays in State
</summary>
<p>Arrays are mutable in JavaScript, but you should treat them as immutable when you store them in state. Just like with objects, when you want to update an array stored in state, you need to create a new one (or make a copy of an existing one), and then set state to use the new array.</p>
<ul>
<li><a href="https://react.dev/learn/updating-arrays-in-state" class="external" target="_blank">Updating Arrays in State</a></li>
<li><a href="https://codesandbox.io/p/sandbox/react-dev-yy44zn?file=%2Fsrc%2FApp.js&amp;utm_medium=sandpack" class="external" target="_blank">codesandbox <strong>sculptors</strong></a></li>
</ul>
</details>
<p><strong>Initial <code>SPA</code> projects <code>codesandbox</code></strong></p>
<ul>
<li>Basic business logic: <a href="https://codesandbox.io/p/sandbox/trafficslights-v1-0-1-thjt2d" class="external" target="_blank">trafficlights SPA 1.0.1</a></li>
<li><code>Axios</code> and Api <code>Rest</code>: <a href="https://codesandbox.io/p/sandbox/trafficslights-v1-2-1-4znjj6" class="external" target="_blank">trafficlights SPA 1.2.1</a></li>
<li><code>useContext</code> to decouple <code>axios</code> from render: <a href="https://codesandbox.io/p/sandbox/trafficslights-v1-3-0-9hs8rw" class="external" target="_blank">trafficlights SPA 1.3.0</a></li>
<li>implement <strong>CRUD</strong> delete operation with <code>axios</code> &amp; <code>useContext</code>: <a href="https://codesandbox.io/p/sandbox/trafficslights-v1-3-0-forked-xqj779" class="external" target="_blank">trafficlights SPA 1.4.0</a></li>
<li>implement <strong>CRUD</strong> create/update operations with <code>axios</code> &amp; <code>useContext</code>: <a href="https://codesandbox.io/p/sandbox/trafficslights-v1-4-1-vrh9gg" class="external" target="_blank">trafficlights SPA 1.4.1</a></li>
<li>implement <strong>CRUD</strong> close button <code>edit</code> &amp; <code>API_URL</code>: <a href="https://codesandbox.io/p/sandbox/thirsty-gagarin-d8fhkf" class="external" target="_blank">trafficlights SPA 1.4.2</a></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/ifcd0210-24/photo_2024-03-09_06-29-18.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="useContext in trafficlights SPA 1.3.0"><img src="../images/ifcd0210-24/photo_2024-03-09_06-29-18.jpg" class="img-fluid figure-img" alt="useContext in trafficlights SPA 1.3.0"></a></p>
<figcaption>useContext in trafficlights SPA 1.3.0</figcaption>
</figure>
</div>
</div></div></section>
</section>
<section id="create-project" class="level1 page-columns page-full" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Create project</h1>
<section id="vite" class="level2 page-columns page-full" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="vite"><span class="header-section-number">2.1</span> Vite</h2>
<blockquote class="blockquote">
<p>Next Generation Frontend Tooling: Get ready for a development environment that can finally catch up with you.</p>
</blockquote>
<ul>
<li><a href="https://vitejs.dev/" class="external" target="_blank">Vite</a></li>
<li><a href="https://vitejs.dev/guide/">Getting Started | Vite</a></li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>bash.sh</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="bash.sh"><pre class="sourceCode numberSource sh code-overflow-wrap number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="ex">$</span> node <span class="at">-v</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To create a new Vite project, open your terminal and run the following command:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>bash.sh</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="bash.sh"><pre class="sourceCode numberSource sh code-overflow-wrap number-lines code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="ex">$</span> npm create vite@latest <span class="op">&lt;</span>my-project<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Select <code>React</code> framework:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>bash.sh</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="bash.sh"><pre class="sourceCode numberSource sh code-overflow-wrap number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="ex">✔</span> Project name: … vite-project</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="ex">?</span> Select a framework: </span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="ex">›</span> <span class="at">-</span> Use arrow-keys. Return to submit.</span>
<span id="cb3-4"><a href="#cb3-4"></a>    <span class="ex">Vanilla</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="ex">Vue</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="ex">❯</span>   React</span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="ex">Preact</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>    <span class="ex">Lit</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>    <span class="ex">Svelte</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And <code>js</code>:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>bash.sh</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="bash.sh"><pre class="sourceCode numberSource sh code-overflow-wrap number-lines code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="ex">?</span> Select a variant: </span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="ex">›</span> <span class="at">-</span> Use arrow-keys. Return to submit.</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="ex">❯</span>   JavaScript</span>
<span id="cb4-4"><a href="#cb4-4"></a>    <span class="ex">TypeScript</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Output:</p>
<div class="column-page-right">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>bash.sh</strong></pre>
</div>
<div class="sourceCode" id="cb5" data-filename="bash.sh"><pre class="sourceCode numberSource sh code-overflow-wrap number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="ex">Scaffolding</span> project in /Users/carlosazaustre/dev/vite-project...</span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="ex">Done.</span> Now run:</span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="bu">cd</span> vite-project</span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="ex">npm</span> install</span>
<span id="cb5-7"><a href="#cb5-7"></a>  <span class="ex">npm</span> run dev</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><strong>Exposing port</strong></p>
<p><a href="https://stackoverflow.com/questions/71939532/npm-run-dev-host-network-not-exposed">npm run dev –host network: not exposed</a></p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>package.json</strong></pre>
</div>
<div class="sourceCode" id="cb6" data-filename="package.json"><pre class="sourceCode numberSource json code-overflow-wrap number-lines code-with-copy"><code class="sourceCode json"><span id="cb6-1"><a href="#cb6-1"></a> <span class="er">"scripts":</span> <span class="fu">{</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>    <span class="dt">"dev"</span><span class="fu">:</span> <span class="st">"vite --host --port 8888"</span><span class="fu">,</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>   <span class="er">.....</span>  <span class="er">what</span> <span class="er">ever</span> <span class="er">else</span> <span class="er">was</span> <span class="er">here.....</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">}</span><span class="er">,</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Shortcuts</strong></p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>package.json</strong></pre>
</div>
<div class="sourceCode" id="cb7" data-filename="package.json"><pre class="sourceCode numberSource json code-overflow-wrap number-lines code-with-copy"><code class="sourceCode json"><span id="cb7-1"><a href="#cb7-1"></a> <span class="er">"scripts":</span> <span class="fu">{</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>    <span class="dt">"dev"</span><span class="fu">:</span> <span class="st">"vite --host --port 8888"</span><span class="fu">,</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>   <span class="er">.....</span>  <span class="er">what</span> <span class="er">ever</span> <span class="er">else</span> <span class="er">was</span> <span class="er">here.....</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">}</span><span class="er">,</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="mock-up" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Mock-up</h1>
<p>Whe should <a href="https://www.dhiwise.com/post/single-page-application-vs-multi-page-application" class="external" target="_blank">evolve</a> the project from a SPA to <strong>multi-page</strong> <code>react-router-dom</code> site.</p>
<p>From these <code>basic mockup SPA</code> versions:</p>
<ul>
<li>Basic business logic: <a href="https://codesandbox.io/p/sandbox/trafficslights-v1-0-1-thjt2d" class="external" target="_blank">trafficlights SPA 1.0.1</a></li>
<li><code>Axios</code> and Api <code>Rest</code>: <a href="https://codesandbox.io/p/sandbox/trafficslights-v1-2-1-4znjj6" class="external" target="_blank">trafficlights SPA 1.2.1</a></li>
<li><code>useContext</code> to decouple <code>axios</code> from render: <a href="https://codesandbox.io/p/sandbox/trafficslights-v1-3-0-9hs8rw" class="external" target="_blank">trafficlights SPA 1.3.0</a></li>
<li>implement <strong>CRUD</strong> delete operation with <code>axios</code> &amp; <code>useContext</code>: <a href="https://codesandbox.io/p/sandbox/trafficslights-v1-3-0-forked-xqj779" class="external" target="_blank">trafficlights SPA 1.4.0</a></li>
<li>implement <strong>CRUD</strong> create/update operations with <code>axios</code> &amp; <code>useContext</code>: <a href="https://codesandbox.io/p/sandbox/trafficslights-v1-4-1-vrh9gg" class="external" target="_blank">trafficlights SPA 1.4.1</a></li>
<li>implement <strong>CRUD</strong> close button <code>edit</code> &amp; <code>API_URL</code>: <a href="https://codesandbox.io/p/sandbox/thirsty-gagarin-d8fhkf" class="external" target="_blank">trafficlights SPA 1.4.2</a></li>
</ul>
<p>To a <code>multi-page two domains</code> site:</p>
<ul>
<li>home/<strong>simulation</strong></li>
<li>and user/<strong>mySimulations</strong></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/reactjs/trafficlights-mockup.drawio.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Mockup draft"><img src="../images/reactjs/trafficlights-mockup.drawio.png" class="img-fluid figure-img" alt="Mockup draft"></a></p>
<figcaption>Mockup draft</figcaption>
</figure>
</div>
</section>
<section id="step-by-step-code" class="level1 page-columns page-full" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Step-by-step code</h1>
<section id="react-functions-components" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="react-functions-components"><span class="header-section-number">4.1</span> React functions &amp; components</h2>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>index.js</strong></pre>
</div>
<div class="sourceCode" id="cb8" data-filename="index.js"><pre class="sourceCode numberSource js code-overflow-wrap number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1"></a><span class="im">import</span> React <span class="im">from</span> <span class="st">'react'</span><span class="op">;</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">'react-dom/client'</span><span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="im">import</span> App <span class="im">from</span> <span class="st">'./App'</span><span class="op">;</span></span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="kw">const</span> <span class="bu">root</span> <span class="op">=</span> </span>
<span id="cb8-6"><a href="#cb8-6"></a>ReactDOM<span class="op">.</span><span class="fu">createRoot</span>(</span>
<span id="cb8-7"><a href="#cb8-7"></a>          <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'root'</span>))<span class="op">;</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="bu">root</span><span class="op">.</span><span class="fu">render</span>(<span class="op">&lt;</span>App <span class="op">/&gt;</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="core-business-logic-use-case" class="level2 page-columns page-full" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="core-business-logic-use-case"><span class="header-section-number">4.2</span> Core Business logic &amp; use case</h2>
<p>This first iteration defines a React functional component called <code>RequestTracker</code>, <mark>which simulates a traffic light and tracks pedestrian crossings</mark>.</p>
<p>It uses the <code>useState</code> hook to manage <strong>four state variables</strong>:</p>
<ul>
<li><strong>pending</strong> (number of pedestrians waiting),</li>
<li><strong>walking</strong> (number of pedestrians crossing),</li>
<li><strong>completed</strong> (number of completed crossings),</li>
<li>and <strong>light</strong> (status of the traffic light).</li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<p>The UI displays the current counts of pending, walking, and completed pedestrians, and the color of the text changes based on the status of the traffic light. The button’s color also changes to reflect the traffic light’s color.</p>
</div></div><p>When the user clicks the “Traffic Light” <code>button</code>, the <code>handleTrafficLightClick</code> function is <strong>triggered</strong>. It decrements pending, increments walking, and sets the light to green. After a <strong>delay of 5 seconds</strong>, it decrements walking, increments completed, and sets the light to red.</p>
<p>The code uses the <code>&lt;&gt;</code> (fragment) syntax to group multiple elements without introducing an additional parent node.</p>
<div class="column-page-right">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>App.jsx</strong></pre>
</div>
<div class="sourceCode" id="cb9" data-filename="App.jsx"><pre class="sourceCode numberSource js code-overflow-wrap number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1"></a><span class="im">import</span> { useState } <span class="im">from</span> <span class="st">"react"</span><span class="op">;</span></span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="fu">RequestTracker</span>() {</span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="kw">const</span> [pending<span class="op">,</span> setPending] <span class="op">=</span> <span class="fu">useState</span>(<span class="dv">100</span>)<span class="op">;</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="kw">const</span> [walking<span class="op">,</span> setWalking] <span class="op">=</span> <span class="fu">useState</span>(<span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="kw">const</span> [completed<span class="op">,</span> setCompleted] <span class="op">=</span> <span class="fu">useState</span>(<span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="kw">const</span> [light<span class="op">,</span> setLight] <span class="op">=</span> <span class="fu">useState</span>(<span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb9-8"><a href="#cb9-8"></a></span>
<span id="cb9-9"><a href="#cb9-9"></a>  <span class="co">/*</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">  useEffect(() =&gt; {</span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">    console.log("pending effect:", pending);</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="co">  }, [pending]);</span></span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="co">  */</span></span>
<span id="cb9-14"><a href="#cb9-14"></a></span>
<span id="cb9-15"><a href="#cb9-15"></a>  <span class="kw">function</span> <span class="fu">handleTrafficLightClick</span>() {</span>
<span id="cb9-16"><a href="#cb9-16"></a>    <span class="co">//console.log("before", pending);</span></span>
<span id="cb9-17"><a href="#cb9-17"></a>    <span class="fu">setPending</span>((p) <span class="kw">=&gt;</span> p <span class="op">-</span> <span class="dv">10</span>)<span class="op">;</span></span>
<span id="cb9-18"><a href="#cb9-18"></a>    <span class="co">//console.log("after", pending);</span></span>
<span id="cb9-19"><a href="#cb9-19"></a>    <span class="fu">setWalking</span>((w) <span class="kw">=&gt;</span> w <span class="op">+</span> <span class="dv">10</span>)<span class="op">;</span></span>
<span id="cb9-20"><a href="#cb9-20"></a>    <span class="fu">setLight</span>(<span class="kw">true</span>)<span class="op">;</span> <span class="co">// Set light to green when walking starts</span></span>
<span id="cb9-21"><a href="#cb9-21"></a>    <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb9-22"><a href="#cb9-22"></a>      <span class="fu">setWalking</span>((w) <span class="kw">=&gt;</span> w <span class="op">-</span> <span class="dv">10</span>)<span class="op">;</span></span>
<span id="cb9-23"><a href="#cb9-23"></a>      <span class="fu">setCompleted</span>((c) <span class="kw">=&gt;</span> c <span class="op">+</span> <span class="dv">10</span>)<span class="op">;</span></span>
<span id="cb9-24"><a href="#cb9-24"></a>      <span class="fu">setLight</span>(<span class="kw">false</span>)<span class="op">;</span> <span class="co">// Set light to red when walking is completed</span></span>
<span id="cb9-25"><a href="#cb9-25"></a>    }<span class="op">,</span> <span class="dv">5000</span>)<span class="op">;</span> <span class="co">// Delay for 3000 milliseconds (5 seconds)</span></span>
<span id="cb9-26"><a href="#cb9-26"></a>  }</span>
<span id="cb9-27"><a href="#cb9-27"></a></span>
<span id="cb9-28"><a href="#cb9-28"></a>  <span class="cf">return</span> (</span>
<span id="cb9-29"><a href="#cb9-29"></a>    <span class="op">&lt;&gt;</span></span>
<span id="cb9-30"><a href="#cb9-30"></a>      <span class="op">&lt;</span>h3 style<span class="op">=</span>{{ <span class="dt">color</span><span class="op">:</span> light <span class="op">?</span> <span class="st">"grey"</span> <span class="op">:</span> <span class="st">"white"</span> }}<span class="op">&gt;</span> </span>
<span id="cb9-31"><a href="#cb9-31"></a>        <span class="dt">Pending</span><span class="op">:</span> {pending} <span class="op">&lt;/</span>h3<span class="op">&gt;</span></span>
<span id="cb9-32"><a href="#cb9-32"></a>      <span class="op">&lt;</span>h3 style<span class="op">=</span>{{ <span class="dt">color</span><span class="op">:</span> light <span class="op">?</span> <span class="st">"white"</span> <span class="op">:</span> <span class="st">"grey"</span> }}<span class="op">&gt;</span></span>
<span id="cb9-33"><a href="#cb9-33"></a>        <span class="dt">Walking</span><span class="op">:</span> {walking} {light <span class="op">?</span> <span class="st">" . . . . ."</span> <span class="op">:</span> <span class="st">""</span>}</span>
<span id="cb9-34"><a href="#cb9-34"></a>      <span class="op">&lt;/</span>h3<span class="op">&gt;</span></span>
<span id="cb9-35"><a href="#cb9-35"></a>      <span class="op">&lt;</span>h3 style<span class="op">=</span>{{ <span class="dt">color</span><span class="op">:</span> light <span class="op">?</span> <span class="st">"green"</span> <span class="op">:</span> <span class="st">"grey"</span> }}<span class="op">&gt;</span></span>
<span id="cb9-36"><a href="#cb9-36"></a>        <span class="dt">Completed</span><span class="op">:</span> {completed}</span>
<span id="cb9-37"><a href="#cb9-37"></a>      <span class="op">&lt;/</span>h3<span class="op">&gt;</span></span>
<span id="cb9-38"><a href="#cb9-38"></a>      <span class="op">&lt;</span>button</span>
<span id="cb9-39"><a href="#cb9-39"></a>        onClick<span class="op">=</span>{handleTrafficLightClick}</span>
<span id="cb9-40"><a href="#cb9-40"></a>        style<span class="op">=</span>{{</span>
<span id="cb9-41"><a href="#cb9-41"></a>          <span class="dt">backgroundColor</span><span class="op">:</span> light <span class="op">?</span> <span class="st">"green"</span> <span class="op">:</span> <span class="st">"red"</span><span class="op">,</span></span>
<span id="cb9-42"><a href="#cb9-42"></a>          <span class="dt">padding</span><span class="op">:</span> <span class="st">"10px 24px"</span><span class="op">,</span></span>
<span id="cb9-43"><a href="#cb9-43"></a>          <span class="dt">borderRadius</span><span class="op">:</span> <span class="st">"8px"</span><span class="op">,</span></span>
<span id="cb9-44"><a href="#cb9-44"></a>          <span class="dt">border</span><span class="op">:</span> <span class="st">"none"</span><span class="op">,</span></span>
<span id="cb9-45"><a href="#cb9-45"></a>          <span class="dt">color</span><span class="op">:</span> <span class="st">"white"</span><span class="op">,</span></span>
<span id="cb9-46"><a href="#cb9-46"></a>          <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"20px"</span><span class="op">,</span></span>
<span id="cb9-47"><a href="#cb9-47"></a>        }}</span>
<span id="cb9-48"><a href="#cb9-48"></a>      <span class="op">&gt;</span></span>
<span id="cb9-49"><a href="#cb9-49"></a>        Taffic Light</span>
<span id="cb9-50"><a href="#cb9-50"></a>      <span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb9-51"><a href="#cb9-51"></a>    <span class="op">&lt;/&gt;</span></span>
<span id="cb9-52"><a href="#cb9-52"></a>  )<span class="op">;</span></span>
<span id="cb9-53"><a href="#cb9-53"></a>}</span>
<span id="cb9-54"><a href="#cb9-54"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="adding-graphics-improving-business-logic" class="level2 page-columns page-full" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="adding-graphics-improving-business-logic"><span class="header-section-number">4.3</span> Adding graphics &amp; improving business logic</h2>
<p><strong>use case: pedestrians crossing a traffic light</strong></p>
<blockquote class="blockquote">
<p>React component called <strong>TrafficLightSimulation</strong>: It simulates a pedestrian crossing at a traffic light.</p>
</blockquote>

<div class="no-row-height column-margin column-container"><div class="">
<p>The code provides an interactive simulation of a traffic light pedestrian crossing using React.</p>
</div></div><p>The component initializes with a random number of people waiting to cross (<code>peopleToWalk</code>) and a random number of people allowed to cross in each group (<code>groupWalking</code>).</p>
<p>When the traffic light is clicked, it turns <code>green</code>, and pedestrians start crossing in groups according to the <code>groupWalking</code> limit.</p>
<p>The component visually represents <code>pending</code> pedestrians, <code>walking</code> pedestrians, and <code>completed</code> crossings. When all pedestrians have crossed, a “<code>Play Again</code>” <mark>button appears to refresh the page and start the simulation again./<mark></mark></mark></p>
<p>The <code>useMemo</code> hook ensures that the initial values for <code>peopleToWalk</code> and <code>groupWalking</code> <strong>remain constant throughout the component’s lifecycle.</strong></p>
<p>The <code>useState</code> hook <strong>manages the state of the crossing simulation</strong>.</p>
<ul>
<li><a href="https://github.com/AlbertProfe/trafficlights/tree/f847634752f6109d5575417c8505634451656d6f" class="external" target="_blank">trafficlights: graphics</a></li>
<li><a href="https://github.com/AlbertProfe/trafficlights/blob/f847634752f6109d5575417c8505634451656d6f/src/App.jsx" class="external" target="_blank">App.jsx</a></li>
<li><a href="../reactjs/reactjs-hook-memo.html">useMemo</a></li>
<li><a href="../reactjs/reactjs-hook-state.html">useState</a></li>
</ul>
<div class="column-page-right">
<details>
<summary>
App.jsx with graphics
</summary>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>App.jsx</strong></pre>
</div>
<div class="sourceCode" id="cb10" data-filename="App.jsx"><pre class="sourceCode numberSource js code-overflow-wrap number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1"></a></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="im">import</span> { useState<span class="op">,</span> useMemo } <span class="im">from</span> <span class="st">"react"</span><span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3"></a></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="kw">function</span> <span class="fu">getRandomInt</span>(min<span class="op">,</span> max) {</span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>() <span class="op">*</span> (max <span class="op">-</span> min <span class="op">+</span> <span class="dv">1</span>)) <span class="op">+</span> min<span class="op">;</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>}</span>
<span id="cb10-7"><a href="#cb10-7"></a></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="kw">function</span> <span class="fu">getRandomColor</span>() {</span>
<span id="cb10-9"><a href="#cb10-9"></a>  <span class="kw">const</span> colors <span class="op">=</span> </span>
<span id="cb10-10"><a href="#cb10-10"></a>        [<span class="st">"red"</span><span class="op">,</span> <span class="st">"blue"</span><span class="op">,</span> <span class="st">"green"</span><span class="op">,</span> <span class="st">"yellow"</span><span class="op">,</span> <span class="st">"purple"</span><span class="op">,</span> <span class="st">"orange"</span>]<span class="op">;</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>  <span class="cf">return</span> colors[<span class="fu">getRandomInt</span>(<span class="dv">0</span><span class="op">,</span> colors<span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span>)]<span class="op">;</span></span>
<span id="cb10-12"><a href="#cb10-12"></a>}</span>
<span id="cb10-13"><a href="#cb10-13"></a></span>
<span id="cb10-14"><a href="#cb10-14"></a><span class="kw">function</span> <span class="fu">refreshPage</span>() {</span>
<span id="cb10-15"><a href="#cb10-15"></a>  <span class="bu">window</span><span class="op">.</span><span class="at">location</span><span class="op">.</span><span class="fu">reload</span>(<span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb10-16"><a href="#cb10-16"></a>}</span>
<span id="cb10-17"><a href="#cb10-17"></a></span>
<span id="cb10-18"><a href="#cb10-18"></a><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="fu">TrafficLightSimulation</span>() {</span>
<span id="cb10-19"><a href="#cb10-19"></a>  </span>
<span id="cb10-20"><a href="#cb10-20"></a>  <span class="co">// total people to walk, to cross  the traffic lights</span></span>
<span id="cb10-21"><a href="#cb10-21"></a>  <span class="kw">const</span> initPeopleToWalk <span class="op">=</span> </span>
<span id="cb10-22"><a href="#cb10-22"></a>        <span class="fu">useMemo</span>(() <span class="kw">=&gt;</span> <span class="fu">getRandomInt</span>(<span class="dv">10</span><span class="op">,</span> <span class="dv">20</span>)<span class="op">,</span> [])<span class="op">;</span></span>
<span id="cb10-23"><a href="#cb10-23"></a>        <span class="co">// Initialize peopleToWalk with a </span></span>
<span id="cb10-24"><a href="#cb10-24"></a>        <span class="co">//random value that remains constant</span></span>
<span id="cb10-25"><a href="#cb10-25"></a>  <span class="kw">const</span> peopleToWalk <span class="op">=</span> </span>
<span id="cb10-26"><a href="#cb10-26"></a>        <span class="fu">useMemo</span>(() <span class="kw">=&gt;</span> initPeopleToWalk<span class="op">,</span> [])<span class="op">;</span> </span>
<span id="cb10-27"><a href="#cb10-27"></a>        <span class="co">// peopleToWalk does not change along all the execution</span></span>
<span id="cb10-28"><a href="#cb10-28"></a>  </span>
<span id="cb10-29"><a href="#cb10-29"></a>  <span class="co">// people will cross by gropus, the value is random each time</span></span>
<span id="cb10-30"><a href="#cb10-30"></a>  <span class="co">// each time traffic ights are green the group</span></span>
<span id="cb10-31"><a href="#cb10-31"></a>  <span class="co">// will cross one by one to complete the lights cycle</span></span>
<span id="cb10-32"><a href="#cb10-32"></a>  <span class="kw">const</span> initGroupWalking <span class="op">=</span> <span class="fu">getRandomInt</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">6</span>)<span class="op">;</span></span>
<span id="cb10-33"><a href="#cb10-33"></a></span>
<span id="cb10-34"><a href="#cb10-34"></a>  <span class="kw">const</span> [crossing<span class="op">,</span> setCrossing] <span class="op">=</span> <span class="fu">useState</span>({</span>
<span id="cb10-35"><a href="#cb10-35"></a>    <span class="dt">pending</span><span class="op">:</span> peopleToWalk<span class="op">,</span></span>
<span id="cb10-36"><a href="#cb10-36"></a>    <span class="dt">walking</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb10-37"><a href="#cb10-37"></a>    <span class="dt">completed</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb10-38"><a href="#cb10-38"></a>    <span class="dt">groupWalking</span><span class="op">:</span> initGroupWalking<span class="op">,</span></span>
<span id="cb10-39"><a href="#cb10-39"></a>    <span class="dt">light</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb10-40"><a href="#cb10-40"></a>  })<span class="op">;</span></span>
<span id="cb10-41"><a href="#cb10-41"></a></span>
<span id="cb10-42"><a href="#cb10-42"></a>  <span class="kw">function</span> <span class="fu">handleTrafficLightClick</span>() {</span>
<span id="cb10-43"><a href="#cb10-43"></a>    <span class="fu">setCrossing</span>((prevState) <span class="kw">=&gt;</span> ({</span>
<span id="cb10-44"><a href="#cb10-44"></a>      <span class="op">...</span>prevState<span class="op">,</span></span>
<span id="cb10-45"><a href="#cb10-45"></a>      <span class="dt">light</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb10-46"><a href="#cb10-46"></a>    }))<span class="op">;</span></span>
<span id="cb10-47"><a href="#cb10-47"></a></span>
<span id="cb10-48"><a href="#cb10-48"></a>    <span class="kw">let</span> walked <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb10-49"><a href="#cb10-49"></a>    <span class="kw">let</span> maxToWalk <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb10-50"><a href="#cb10-50"></a>    <span class="kw">const</span> walkingInterval <span class="op">=</span> <span class="pp">setInterval</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb10-51"><a href="#cb10-51"></a>      <span class="kw">const</span> { pending<span class="op">,</span> groupWalking } <span class="op">=</span> crossing<span class="op">;</span></span>
<span id="cb10-52"><a href="#cb10-52"></a>      <span class="cf">if</span> (groupWalking <span class="op">&gt;=</span> pending) maxToWalk <span class="op">=</span> pending<span class="op">;</span></span>
<span id="cb10-53"><a href="#cb10-53"></a>      <span class="cf">else</span> maxToWalk <span class="op">=</span> groupWalking<span class="op">;</span></span>
<span id="cb10-54"><a href="#cb10-54"></a></span>
<span id="cb10-55"><a href="#cb10-55"></a>      <span class="cf">if</span> (walked <span class="op">&lt;</span> maxToWalk) {</span>
<span id="cb10-56"><a href="#cb10-56"></a>        <span class="fu">setCrossing</span>((prevState) <span class="kw">=&gt;</span> ({</span>
<span id="cb10-57"><a href="#cb10-57"></a>          <span class="op">...</span>prevState<span class="op">,</span></span>
<span id="cb10-58"><a href="#cb10-58"></a>          <span class="dt">walking</span><span class="op">:</span> prevState<span class="op">.</span><span class="at">walking</span> <span class="op">+</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb10-59"><a href="#cb10-59"></a>          <span class="dt">pending</span><span class="op">:</span> prevState<span class="op">.</span><span class="at">pending</span> <span class="op">-</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb10-60"><a href="#cb10-60"></a>        }))<span class="op">;</span></span>
<span id="cb10-61"><a href="#cb10-61"></a>        walked<span class="op">++;</span></span>
<span id="cb10-62"><a href="#cb10-62"></a>      } <span class="cf">else</span> {</span>
<span id="cb10-63"><a href="#cb10-63"></a>        <span class="pp">clearInterval</span>(walkingInterval)<span class="op">;</span></span>
<span id="cb10-64"><a href="#cb10-64"></a>        <span class="fu">setCrossing</span>((prevState) <span class="kw">=&gt;</span> ({</span>
<span id="cb10-65"><a href="#cb10-65"></a>          <span class="op">...</span>prevState<span class="op">,</span></span>
<span id="cb10-66"><a href="#cb10-66"></a>          <span class="dt">completed</span><span class="op">:</span> prevState<span class="op">.</span><span class="at">completed</span> <span class="op">+</span> walked<span class="op">,</span></span>
<span id="cb10-67"><a href="#cb10-67"></a>          <span class="dt">walking</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb10-68"><a href="#cb10-68"></a>          <span class="dt">light</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb10-69"><a href="#cb10-69"></a>          <span class="dt">groupWalking</span><span class="op">:</span> initGroupWalking<span class="op">,</span></span>
<span id="cb10-70"><a href="#cb10-70"></a>        }))<span class="op">;</span></span>
<span id="cb10-71"><a href="#cb10-71"></a>      }</span>
<span id="cb10-72"><a href="#cb10-72"></a>    }<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb10-73"><a href="#cb10-73"></a>  }</span>
<span id="cb10-74"><a href="#cb10-74"></a></span>
<span id="cb10-75"><a href="#cb10-75"></a>  <span class="kw">const</span> { pending<span class="op">,</span> walking<span class="op">,</span> completed<span class="op">,</span> groupWalking<span class="op">,</span> light } <span class="op">=</span> crossing<span class="op">;</span></span>
<span id="cb10-76"><a href="#cb10-76"></a></span>
<span id="cb10-77"><a href="#cb10-77"></a>  <span class="cf">return</span> (</span>
<span id="cb10-78"><a href="#cb10-78"></a>    <span class="op">&lt;&gt;</span></span>
<span id="cb10-79"><a href="#cb10-79"></a>      <span class="op">&lt;</span>div style<span class="op">=</span>{{ <span class="dt">textAlign</span><span class="op">:</span> <span class="st">"center"</span> }}<span class="op">&gt;</span></span>
<span id="cb10-80"><a href="#cb10-80"></a>        <span class="op">&lt;</span>h1<span class="op">&gt;</span>Traffic Light Crossing Simulation<span class="op">&lt;/</span>h1<span class="op">&gt;</span></span>
<span id="cb10-81"><a href="#cb10-81"></a>        <span class="op">&lt;</span>h4<span class="op">&gt;</span>Help pedestrians cross the street safely<span class="op">!&lt;/</span>h4<span class="op">&gt;</span>{<span class="st">" "</span>}</span>
<span id="cb10-82"><a href="#cb10-82"></a>        <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">"chip"</span><span class="op">&gt;</span></span>
<span id="cb10-83"><a href="#cb10-83"></a>         {peopleToWalk} people want to cross the pedestrian<span class="op">/</span>zebra crossing</span>
<span id="cb10-84"><a href="#cb10-84"></a>         <span class="op">&lt;/</span>div<span class="op">&gt;&lt;</span>p<span class="op">&gt;&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb10-85"><a href="#cb10-85"></a>        {completed <span class="op">===</span> peopleToWalk <span class="op">?</span> (</span>
<span id="cb10-86"><a href="#cb10-86"></a>          <span class="op">&lt;</span>button</span>
<span id="cb10-87"><a href="#cb10-87"></a>            onClick<span class="op">=</span>{refreshPage}</span>
<span id="cb10-88"><a href="#cb10-88"></a>            style<span class="op">=</span>{{</span>
<span id="cb10-89"><a href="#cb10-89"></a>              <span class="dt">backgroundColor</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span></span>
<span id="cb10-90"><a href="#cb10-90"></a>              <span class="dt">padding</span><span class="op">:</span> <span class="st">"10px 24px"</span><span class="op">,</span></span>
<span id="cb10-91"><a href="#cb10-91"></a>              <span class="dt">borderRadius</span><span class="op">:</span> <span class="st">"8px"</span><span class="op">,</span></span>
<span id="cb10-92"><a href="#cb10-92"></a>              <span class="dt">border</span><span class="op">:</span> <span class="st">"none"</span><span class="op">,</span></span>
<span id="cb10-93"><a href="#cb10-93"></a>              <span class="dt">color</span><span class="op">:</span> <span class="st">"white"</span><span class="op">,</span></span>
<span id="cb10-94"><a href="#cb10-94"></a>              <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"20px"</span><span class="op">,</span></span>
<span id="cb10-95"><a href="#cb10-95"></a>              <span class="dt">marginBottom</span><span class="op">:</span> <span class="st">"20px"</span><span class="op">,</span></span>
<span id="cb10-96"><a href="#cb10-96"></a>            }}</span>
<span id="cb10-97"><a href="#cb10-97"></a>          <span class="op">&gt;</span></span>
<span id="cb10-98"><a href="#cb10-98"></a>            Play <span class="fu">Again</span> (refresh page)</span>
<span id="cb10-99"><a href="#cb10-99"></a>          <span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb10-100"><a href="#cb10-100"></a>        ) <span class="op">:</span> (</span>
<span id="cb10-101"><a href="#cb10-101"></a>          <span class="op">&lt;&gt;</span></span>
<span id="cb10-102"><a href="#cb10-102"></a>            <span class="op">&lt;</span>button</span>
<span id="cb10-103"><a href="#cb10-103"></a>              onClick<span class="op">=</span>{handleTrafficLightClick}</span>
<span id="cb10-104"><a href="#cb10-104"></a>              style<span class="op">=</span>{{</span>
<span id="cb10-105"><a href="#cb10-105"></a>                <span class="dt">backgroundColor</span><span class="op">:</span> light <span class="op">?</span> <span class="st">"green"</span> <span class="op">:</span> <span class="st">"red"</span><span class="op">,</span></span>
<span id="cb10-106"><a href="#cb10-106"></a>                <span class="dt">padding</span><span class="op">:</span> <span class="st">"10px 24px"</span><span class="op">,</span></span>
<span id="cb10-107"><a href="#cb10-107"></a>                <span class="dt">borderRadius</span><span class="op">:</span> <span class="st">"8px"</span><span class="op">,</span></span>
<span id="cb10-108"><a href="#cb10-108"></a>                <span class="dt">border</span><span class="op">:</span> <span class="st">"none"</span><span class="op">,</span></span>
<span id="cb10-109"><a href="#cb10-109"></a>                <span class="dt">color</span><span class="op">:</span> <span class="st">"white"</span><span class="op">,</span></span>
<span id="cb10-110"><a href="#cb10-110"></a>                <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"20px"</span><span class="op">,</span></span>
<span id="cb10-111"><a href="#cb10-111"></a>                <span class="dt">marginBottom</span><span class="op">:</span> <span class="st">"20px"</span><span class="op">,</span></span>
<span id="cb10-112"><a href="#cb10-112"></a>              }}</span>
<span id="cb10-113"><a href="#cb10-113"></a>            <span class="op">&gt;</span></span>
<span id="cb10-114"><a href="#cb10-114"></a>              Traffic Light</span>
<span id="cb10-115"><a href="#cb10-115"></a>            <span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb10-116"><a href="#cb10-116"></a></span>
<span id="cb10-117"><a href="#cb10-117"></a>            <span class="op">&lt;</span>div</span>
<span id="cb10-118"><a href="#cb10-118"></a>              style<span class="op">=</span>{{</span>
<span id="cb10-119"><a href="#cb10-119"></a>                <span class="dt">display</span><span class="op">:</span> <span class="st">"flex"</span><span class="op">,</span></span>
<span id="cb10-120"><a href="#cb10-120"></a>                <span class="dt">flexDirection</span><span class="op">:</span> <span class="st">"row"</span><span class="op">,</span></span>
<span id="cb10-121"><a href="#cb10-121"></a>                <span class="dt">justifyContent</span><span class="op">:</span> <span class="st">"center"</span><span class="op">,</span></span>
<span id="cb10-122"><a href="#cb10-122"></a>              }}</span>
<span id="cb10-123"><a href="#cb10-123"></a>            <span class="op">&gt;</span></span>
<span id="cb10-124"><a href="#cb10-124"></a>              <span class="op">&lt;</span>h3<span class="op">&gt;</span>Group <span class="dt">walking</span><span class="op">:</span> {groupWalking} <span class="op">&lt;/</span>h3<span class="op">&gt;</span></span>
<span id="cb10-125"><a href="#cb10-125"></a>              {<span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>({ <span class="dt">length</span><span class="op">:</span> groupWalking })<span class="op">.</span><span class="fu">map</span>((_<span class="op">,</span> index) <span class="kw">=&gt;</span> (</span>
<span id="cb10-126"><a href="#cb10-126"></a>                <span class="op">&lt;</span>div</span>
<span id="cb10-127"><a href="#cb10-127"></a>                  key<span class="op">=</span>{index}</span>
<span id="cb10-128"><a href="#cb10-128"></a>                  style<span class="op">=</span>{{</span>
<span id="cb10-129"><a href="#cb10-129"></a>                    <span class="dt">backgroundColor</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span></span>
<span id="cb10-130"><a href="#cb10-130"></a>                    <span class="dt">width</span><span class="op">:</span> <span class="st">"10px"</span><span class="op">,</span></span>
<span id="cb10-131"><a href="#cb10-131"></a>                    <span class="dt">height</span><span class="op">:</span> <span class="st">"10px"</span><span class="op">,</span></span>
<span id="cb10-132"><a href="#cb10-132"></a>                    <span class="dt">margin</span><span class="op">:</span> <span class="st">"2px"</span><span class="op">,</span></span>
<span id="cb10-133"><a href="#cb10-133"></a>                  }}</span>
<span id="cb10-134"><a href="#cb10-134"></a>                <span class="op">/&gt;</span></span>
<span id="cb10-135"><a href="#cb10-135"></a>              ))}</span>
<span id="cb10-136"><a href="#cb10-136"></a>            <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb10-137"><a href="#cb10-137"></a>          <span class="op">&lt;/&gt;</span></span>
<span id="cb10-138"><a href="#cb10-138"></a>        )}</span>
<span id="cb10-139"><a href="#cb10-139"></a>        <span class="op">&lt;</span>div style<span class="op">=</span>{{ <span class="dt">display</span><span class="op">:</span> <span class="st">"flex"</span><span class="op">,</span> <span class="dt">justifyContent</span><span class="op">:</span> <span class="st">"space-between"</span> }}<span class="op">&gt;</span></span>
<span id="cb10-140"><a href="#cb10-140"></a>          <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb10-141"><a href="#cb10-141"></a>            <span class="op">&lt;</span>h3<span class="op">&gt;</span><span class="dt">Pending</span><span class="op">:</span> {pending}<span class="op">&lt;/</span>h3<span class="op">&gt;</span></span>
<span id="cb10-142"><a href="#cb10-142"></a>            {<span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>({ <span class="dt">length</span><span class="op">:</span> pending })<span class="op">.</span><span class="fu">map</span>((_<span class="op">,</span> index) <span class="kw">=&gt;</span> (</span>
<span id="cb10-143"><a href="#cb10-143"></a>              <span class="op">&lt;</span>div</span>
<span id="cb10-144"><a href="#cb10-144"></a>                key<span class="op">=</span>{index}</span>
<span id="cb10-145"><a href="#cb10-145"></a>                style<span class="op">=</span>{{</span>
<span id="cb10-146"><a href="#cb10-146"></a>                  <span class="dt">backgroundColor</span><span class="op">:</span> <span class="fu">getRandomColor</span>()<span class="op">,</span></span>
<span id="cb10-147"><a href="#cb10-147"></a>                  <span class="dt">width</span><span class="op">:</span> <span class="st">"10px"</span><span class="op">,</span></span>
<span id="cb10-148"><a href="#cb10-148"></a>                  <span class="dt">height</span><span class="op">:</span> <span class="st">"10px"</span><span class="op">,</span></span>
<span id="cb10-149"><a href="#cb10-149"></a>                  <span class="dt">margin</span><span class="op">:</span> <span class="st">"2px"</span><span class="op">,</span></span>
<span id="cb10-150"><a href="#cb10-150"></a>                }}</span>
<span id="cb10-151"><a href="#cb10-151"></a>              <span class="op">/&gt;</span></span>
<span id="cb10-152"><a href="#cb10-152"></a>            ))}</span>
<span id="cb10-153"><a href="#cb10-153"></a>          <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb10-154"><a href="#cb10-154"></a>          <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb10-155"><a href="#cb10-155"></a>            <span class="op">&lt;</span>h3<span class="op">&gt;</span><span class="dt">Walking</span><span class="op">:</span> {walking}<span class="op">&lt;/</span>h3<span class="op">&gt;</span></span>
<span id="cb10-156"><a href="#cb10-156"></a>            {<span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>({ <span class="dt">length</span><span class="op">:</span> walking })<span class="op">.</span><span class="fu">map</span>((_<span class="op">,</span> index) <span class="kw">=&gt;</span> (</span>
<span id="cb10-157"><a href="#cb10-157"></a>              <span class="op">&lt;</span>div</span>
<span id="cb10-158"><a href="#cb10-158"></a>                key<span class="op">=</span>{index}</span>
<span id="cb10-159"><a href="#cb10-159"></a>                style<span class="op">=</span>{{</span>
<span id="cb10-160"><a href="#cb10-160"></a>                  <span class="dt">backgroundColor</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span></span>
<span id="cb10-161"><a href="#cb10-161"></a>                  <span class="dt">width</span><span class="op">:</span> <span class="st">"10px"</span><span class="op">,</span></span>
<span id="cb10-162"><a href="#cb10-162"></a>                  <span class="dt">height</span><span class="op">:</span> <span class="st">"10px"</span><span class="op">,</span></span>
<span id="cb10-163"><a href="#cb10-163"></a>                  <span class="dt">margin</span><span class="op">:</span> <span class="st">"2px"</span><span class="op">,</span></span>
<span id="cb10-164"><a href="#cb10-164"></a>                }}</span>
<span id="cb10-165"><a href="#cb10-165"></a>              <span class="op">/&gt;</span></span>
<span id="cb10-166"><a href="#cb10-166"></a>            ))}</span>
<span id="cb10-167"><a href="#cb10-167"></a>          <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb10-168"><a href="#cb10-168"></a>          <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb10-169"><a href="#cb10-169"></a>            <span class="op">&lt;</span>h3<span class="op">&gt;</span><span class="dt">Completed</span><span class="op">:</span> {completed}<span class="op">&lt;/</span>h3<span class="op">&gt;</span></span>
<span id="cb10-170"><a href="#cb10-170"></a>            {<span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>({ <span class="dt">length</span><span class="op">:</span> completed })<span class="op">.</span><span class="fu">map</span>((_<span class="op">,</span> index) <span class="kw">=&gt;</span> (</span>
<span id="cb10-171"><a href="#cb10-171"></a>              <span class="op">&lt;</span>div</span>
<span id="cb10-172"><a href="#cb10-172"></a>                key<span class="op">=</span>{index}</span>
<span id="cb10-173"><a href="#cb10-173"></a>                style<span class="op">=</span>{{</span>
<span id="cb10-174"><a href="#cb10-174"></a>                  <span class="dt">backgroundColor</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span></span>
<span id="cb10-175"><a href="#cb10-175"></a>                  <span class="dt">width</span><span class="op">:</span> <span class="st">"10px"</span><span class="op">,</span></span>
<span id="cb10-176"><a href="#cb10-176"></a>                  <span class="dt">height</span><span class="op">:</span> <span class="st">"10px"</span><span class="op">,</span></span>
<span id="cb10-177"><a href="#cb10-177"></a>                  <span class="dt">margin</span><span class="op">:</span> <span class="st">"2px"</span><span class="op">,</span></span>
<span id="cb10-178"><a href="#cb10-178"></a>                }}</span>
<span id="cb10-179"><a href="#cb10-179"></a>              <span class="op">/&gt;</span></span>
<span id="cb10-180"><a href="#cb10-180"></a>            ))}</span>
<span id="cb10-181"><a href="#cb10-181"></a>          <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb10-182"><a href="#cb10-182"></a>        <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb10-183"><a href="#cb10-183"></a>      <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb10-184"><a href="#cb10-184"></a>    <span class="op">&lt;/&gt;</span></span>
<span id="cb10-185"><a href="#cb10-185"></a>  )<span class="op">;</span></span>
<span id="cb10-186"><a href="#cb10-186"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
</div>
<p><strong>Consolidation and merge: <code>literal object</code></strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/reactjs/traffic-literalobject-v0.1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Consolidation and merge: literal object"><img src="../images/reactjs/traffic-literalobject-v0.1.png" class="img-fluid figure-img" alt="Consolidation and merge: literal object"></a></p>
<figcaption>Consolidation and merge: <code>literal object</code></figcaption>
</figure>
</div>
<blockquote class="blockquote">
<p>The operation of consolidating multiple state variables <strong>into a single object using the useState hook and the spread operator</strong> can be referred to as state consolidation or state merging.</p>
</blockquote>
<p>Here’s a breakdown:</p>
<ul>
<li><strong>State Consolidation</strong>: This term emphasizes the process of bringing together multiple individual state variables into a single, cohesive object. It highlights the idea of simplifying state management by grouping related pieces of state.</li>
<li><strong>State Merging</strong>: This term underscores the use of the spread operator (…) to merge the previous state with the updated state when setting the state. It emphasizes the technique used to update multiple properties of the state object simultaneously.</li>
</ul>
<p><strong>code: setInterval</strong></p>
<p>The <code>handleTrafficLightClick</code> function sets up an <a href="https://developer.mozilla.org/en-US/docs/Web/API/setInterval" class="external" target="_blank">interval</a> using <code>setInterval</code>, <mark>which repeatedly executes a specified function</mark> (<code>() =&gt; { ... }</code>) with a <mark>fixed time delay between each execution</mark>.</p>
<p>In this case, the function inside <code>setInterval</code> <strong>acts as a loop with a delay</strong>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/reactjs/traffic-setInterval-v0.1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="setInterval acts as a loop with a delay"><img src="../images/reactjs/traffic-setInterval-v0.1.png" class="img-fluid figure-img" alt="setInterval acts as a loop with a delay"></a></p>
<figcaption><code>setInterval</code> acts as a loop with a delay</figcaption>
</figure>
</div>
<p>Here’s how it works:</p>
<ol type="1">
<li><p>When <code>handleTrafficLightClick</code> is called, it sets the <code>light</code> property of the <code>crossing</code> state to <code>true</code> using <code>setCrossing</code>.</p></li>
<li><p>It then initializes variables <code>walked</code> and <code>maxToWalk</code> to keep track of the number of pedestrians walking and the maximum number of pedestrians allowed to walk, respectively.</p></li>
<li><p>Inside the interval function, it calculates <code>maxToWalk</code> based on the number of pending pedestrians and the maximum number of pedestrians allowed to walk simultaneously (<code>groupWalking</code>).</p></li>
<li><p>If the number of <code>walked</code> pedestrians is less than <code>maxToWalk</code>, it increments the <code>walking</code> property by 1 and decrements the <code>pending</code> property by 1 in the state using <code>setCrossing</code>. It then increments the <code>walked</code> counter.</p></li>
<li><p>If the maximum number of pedestrians have walked (<code>walked &gt;= maxToWalk</code>), it clears the interval using <code>clearInterval(walkingInterval)</code> to stop the loop. It then updates the state with the number of completed pedestrians (<code>completed</code>), resets the <code>walking</code> counter to 0, sets the <code>light</code> property back to <code>false</code>, and resets the <code>groupWalking</code> property to its initial value using <code>setCrossing</code>.</p></li>
<li><p>The interval function repeats this process every 1000 milliseconds (1 second) until it is stopped by calling <code>clearInterval</code>.</p></li>
</ol>
<p>This loop effectively controls the flow of pedestrians crossing the street, incrementally allowing them to walk within the specified time intervals until the maximum number of pedestrians have crossed, at which point it resets the state and ends the loop.</p>
<p><strong>code: prevState</strong></p>
<p><code>prevState</code> is used as an argument in the functional update form of the <code>setCrossing</code> function, <strong>which is part of React’s useState hook</strong>.</p>
<blockquote class="blockquote">
<p>This functional form allows you to access the previous state of the component’s state variable (in this case, <code>crossing</code>) and perform updates based on that previous state.</p>
</blockquote>
<div class="column-page-right">
<details>
<summary>
App.jsx with graphics
</summary>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>App.jsx</strong></pre>
</div>
<div class="sourceCode" id="cb11" data-filename="App.jsx"><pre class="sourceCode numberSource js code-overflow-wrap number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1"></a></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co">// functions ...</span></span>
<span id="cb11-3"><a href="#cb11-3"></a></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="fu">TrafficLightSimulation</span>() {</span>
<span id="cb11-5"><a href="#cb11-5"></a>  </span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co">// code ...</span></span>
<span id="cb11-7"><a href="#cb11-7"></a></span>
<span id="cb11-8"><a href="#cb11-8"></a>  <span class="kw">const</span> [crossing<span class="op">,</span> setCrossing] <span class="op">=</span> <span class="fu">useState</span>({</span>
<span id="cb11-9"><a href="#cb11-9"></a>    <span class="dt">pending</span><span class="op">:</span> peopleToWalk<span class="op">,</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>    <span class="dt">walking</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb11-11"><a href="#cb11-11"></a>    <span class="dt">completed</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb11-12"><a href="#cb11-12"></a>    <span class="dt">groupWalking</span><span class="op">:</span> initGroupWalking<span class="op">,</span></span>
<span id="cb11-13"><a href="#cb11-13"></a>    <span class="dt">light</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb11-14"><a href="#cb11-14"></a>  })<span class="op">;</span></span>
<span id="cb11-15"><a href="#cb11-15"></a></span>
<span id="cb11-16"><a href="#cb11-16"></a>  <span class="kw">function</span> <span class="fu">handleTrafficLightClick</span>() {</span>
<span id="cb11-17"><a href="#cb11-17"></a>    <span class="fu">setCrossing</span>((prevState) <span class="kw">=&gt;</span> ({</span>
<span id="cb11-18"><a href="#cb11-18"></a>      <span class="op">...</span>prevState<span class="op">,</span></span>
<span id="cb11-19"><a href="#cb11-19"></a>      <span class="dt">light</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb11-20"><a href="#cb11-20"></a>    }))<span class="op">;</span></span>
<span id="cb11-21"><a href="#cb11-21"></a></span>
<span id="cb11-22"><a href="#cb11-22"></a>    <span class="kw">let</span> walked <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb11-23"><a href="#cb11-23"></a>    <span class="kw">let</span> maxToWalk <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb11-24"><a href="#cb11-24"></a>    <span class="kw">const</span> walkingInterval <span class="op">=</span> <span class="pp">setInterval</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb11-25"><a href="#cb11-25"></a>      <span class="kw">const</span> { pending<span class="op">,</span> groupWalking } <span class="op">=</span> crossing<span class="op">;</span></span>
<span id="cb11-26"><a href="#cb11-26"></a>      <span class="cf">if</span> (groupWalking <span class="op">&gt;=</span> pending) maxToWalk <span class="op">=</span> pending<span class="op">;</span></span>
<span id="cb11-27"><a href="#cb11-27"></a>      <span class="cf">else</span> maxToWalk <span class="op">=</span> groupWalking<span class="op">;</span></span>
<span id="cb11-28"><a href="#cb11-28"></a></span>
<span id="cb11-29"><a href="#cb11-29"></a>      <span class="cf">if</span> (walked <span class="op">&lt;</span> maxToWalk) {</span>
<span id="cb11-30"><a href="#cb11-30"></a>        <span class="fu">setCrossing</span>((prevState) <span class="kw">=&gt;</span> ({</span>
<span id="cb11-31"><a href="#cb11-31"></a>          <span class="op">...</span>prevState<span class="op">,</span></span>
<span id="cb11-32"><a href="#cb11-32"></a>          <span class="dt">walking</span><span class="op">:</span> prevState<span class="op">.</span><span class="at">walking</span> <span class="op">+</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb11-33"><a href="#cb11-33"></a>          <span class="dt">pending</span><span class="op">:</span> prevState<span class="op">.</span><span class="at">pending</span> <span class="op">-</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb11-34"><a href="#cb11-34"></a>        }))<span class="op">;</span></span>
<span id="cb11-35"><a href="#cb11-35"></a>        walked<span class="op">++;</span></span>
<span id="cb11-36"><a href="#cb11-36"></a>      } <span class="cf">else</span> {</span>
<span id="cb11-37"><a href="#cb11-37"></a>        <span class="pp">clearInterval</span>(walkingInterval)<span class="op">;</span></span>
<span id="cb11-38"><a href="#cb11-38"></a>        <span class="fu">setCrossing</span>((prevState) <span class="kw">=&gt;</span> ({</span>
<span id="cb11-39"><a href="#cb11-39"></a>          <span class="op">...</span>prevState<span class="op">,</span></span>
<span id="cb11-40"><a href="#cb11-40"></a>          <span class="dt">completed</span><span class="op">:</span> prevState<span class="op">.</span><span class="at">completed</span> <span class="op">+</span> walked<span class="op">,</span></span>
<span id="cb11-41"><a href="#cb11-41"></a>          <span class="dt">walking</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb11-42"><a href="#cb11-42"></a>          <span class="dt">light</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb11-43"><a href="#cb11-43"></a>          <span class="dt">groupWalking</span><span class="op">:</span> initGroupWalking<span class="op">,</span></span>
<span id="cb11-44"><a href="#cb11-44"></a>        }))<span class="op">;</span></span>
<span id="cb11-45"><a href="#cb11-45"></a>      }</span>
<span id="cb11-46"><a href="#cb11-46"></a>    }<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb11-47"><a href="#cb11-47"></a>  }</span>
<span id="cb11-48"><a href="#cb11-48"></a></span>
<span id="cb11-49"><a href="#cb11-49"></a>  <span class="cf">return</span> (</span>
<span id="cb11-50"><a href="#cb11-50"></a>    <span class="op">&lt;&gt;</span></span>
<span id="cb11-51"><a href="#cb11-51"></a>    <span class="op">&lt;/&gt;</span></span>
<span id="cb11-52"><a href="#cb11-52"></a>  )<span class="op">;</span></span>
<span id="cb11-53"><a href="#cb11-53"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/reactjs/traffic-prevState-v0.1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="prevState to access updated state"><img src="../images/reactjs/traffic-prevState-v0.1.png" class="img-fluid figure-img" alt="prevState to access updated state"></a></p>
<figcaption><code>prevState</code> to access updated state</figcaption>
</figure>
</div>
<ol type="1">
<li>When updating the state using <code>setCrossing</code>, the code utilizes the functional form <code>(prevState) =&gt; { ... }</code>.
<ul>
<li>This function receives the previous state (<code>prevState</code>) as an argument and returns the new state based on that previous state.</li>
</ul></li>
<li>Inside the function, the <strong>spread operator</strong> (<code>...prevState</code>) is used to create a shallow copy of the previous state object.
<ol type="1">
<li>This ensures that <strong>you are not mutating the original state directly</strong>, which is important for maintaining the immutability of React state.</li>
</ol></li>
<li>The properties of the state object are then modified according to the logic defined in the function.
<ul>
<li>In the first part of the code block, <code>walking</code> is incremented by 1 and <code>pending</code> is decremented by 1.</li>
<li>In the second part of the code block (the <code>else</code> block), various properties of the state object are updated based on some condition.</li>
</ul></li>
<li><code>prevState</code> is not a reserved word in React; rather, it’s a variable name used conventionally to refer to the previous state in functional updates when using the <code>useState</code> hook.
<ol type="1">
<li>It’s a common practice in React to use <code>prevState</code> as the parameter name in functional updates, but it’s not enforced by React itself.</li>
<li>You could technically use <strong>any valid variable name in its place</strong>, but using <code>prevState</code> makes the code more readable and understandable for other developers who are familiar with React conventions.</li>
</ol></li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>By using <code>prevState</code> in this manner, the code ensures that the state updates are based on the previous state, rather than relying on the current state directly. This is important because React’s state updates may be asynchronous, and accessing the previous state via the functional form ensures that the updates are based on the most recent state at the time the update is applied.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/reactjs/traffic-render-v0.1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="render v0.1 render(1)"><img src="../images/reactjs/traffic-render-v0.1-1.png" class="img-fluid figure-img" alt="render v0.1 render(1)"></a></p>
<figcaption>render v0.1 render(1)</figcaption>
</figure>
</div>
</section>
<section id="adding-domains-react-router-dom" class="level2 page-columns page-full" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="adding-domains-react-router-dom"><span class="header-section-number">4.4</span> Adding domains: react-router-dom</h2>
<ul>
<li><a href="../reactjs/reactjs-app-router.html">react-router-dom</a></li>
<li><a href="../reactjs/rjslab6-1.html#add-json-data-as-model">DDD with Lab#RE06-1</a></li>
</ul>
<p>Remember to install the dependency:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1"></a><span class="ex">npm</span> instal react-router-dom</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="column-page-right">
<details>
<summary>
App.jsx with <strong>Routes</strong>
</summary>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>App.jsx</strong></pre>
</div>
<div class="sourceCode" id="cb13" data-filename="App.jsx"><pre class="sourceCode numberSource js code-overflow-wrap number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1"></a></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="im">import</span> { BrowserRouter<span class="op">,</span> Routes<span class="op">,</span> Route } <span class="im">from</span> <span class="st">"react-router-dom"</span><span class="op">;</span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="im">import</span> Layout <span class="im">from</span> <span class="st">"./layout/Layout"</span><span class="op">;</span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="im">import</span> MySimulations <span class="im">from</span> <span class="st">"./mysimulatons/MySimulations"</span><span class="op">;</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="im">import</span> Simulation <span class="im">from</span> <span class="st">"./simulation/Simulation"</span><span class="op">;</span></span>
<span id="cb13-6"><a href="#cb13-6"></a></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="fu">App</span>() {</span>
<span id="cb13-8"><a href="#cb13-8"></a>  <span class="cf">return</span> (</span>
<span id="cb13-9"><a href="#cb13-9"></a>    <span class="op">&lt;</span>BrowserRouter<span class="op">&gt;</span></span>
<span id="cb13-10"><a href="#cb13-10"></a>      <span class="op">&lt;</span>Routes<span class="op">&gt;</span></span>
<span id="cb13-11"><a href="#cb13-11"></a>        <span class="op">&lt;</span>Route path<span class="op">=</span><span class="st">"/"</span> element<span class="op">=</span>{<span class="op">&lt;</span>Layout <span class="op">/&gt;</span>}<span class="op">&gt;</span></span>
<span id="cb13-12"><a href="#cb13-12"></a>          <span class="op">&lt;</span>Route index element<span class="op">=</span>{<span class="op">&lt;</span>Simulation <span class="op">/&gt;</span>} <span class="op">/&gt;</span></span>
<span id="cb13-13"><a href="#cb13-13"></a>          <span class="op">&lt;</span>Route path<span class="op">=</span><span class="st">"simulation"</span> element<span class="op">=</span>{<span class="op">&lt;</span>Simulation <span class="op">/&gt;</span>} <span class="op">/&gt;</span></span>
<span id="cb13-14"><a href="#cb13-14"></a>          <span class="op">&lt;</span>Route path<span class="op">=</span><span class="st">"mysimulations"</span> element<span class="op">=</span>{<span class="op">&lt;</span>MySimulations <span class="op">/&gt;</span>} <span class="op">/&gt;</span></span>
<span id="cb13-15"><a href="#cb13-15"></a>          <span class="op">&lt;</span>Route path<span class="op">=</span><span class="st">"*"</span> element<span class="op">=</span>{<span class="op">&lt;</span>Simulation <span class="op">/&gt;</span>} <span class="op">/&gt;</span></span>
<span id="cb13-16"><a href="#cb13-16"></a>        <span class="op">&lt;/</span>Route<span class="op">&gt;</span></span>
<span id="cb13-17"><a href="#cb13-17"></a>      <span class="op">&lt;/</span>Routes<span class="op">&gt;</span></span>
<span id="cb13-18"><a href="#cb13-18"></a>    <span class="op">&lt;/</span>BrowserRouter<span class="op">&gt;</span></span>
<span id="cb13-19"><a href="#cb13-19"></a>  )<span class="op">;</span></span>
<span id="cb13-20"><a href="#cb13-20"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<ul>
<li><a href="https://github.com/AlbertProfe/trafficlights/tree/bff9bb44cc67536ca3a1c296169c1279bd93d6b9/src/layout" class="external" target="_blanke">Folder Layout</a></li>
</ul>
<details>
<summary>
Layout.jsx with <strong>Layout</strong>
</summary>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>/layout/Layout.jsx</strong></pre>
</div>
<div class="sourceCode" id="cb14" data-filename="/layout/Layout.jsx"><pre class="sourceCode numberSource js code-overflow-wrap number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1"></a></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="im">import</span> Footer <span class="im">from</span> <span class="st">'./Footer.jsx'</span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="im">import</span> Header <span class="im">from</span> <span class="st">"./Header.jsx"</span><span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="im">import</span> { Outlet<span class="op">,</span> Link } <span class="im">from</span> <span class="st">"react-router-dom"</span><span class="op">;</span></span>
<span id="cb14-5"><a href="#cb14-5"></a></span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="fu">Layout</span> () {</span>
<span id="cb14-7"><a href="#cb14-7"></a></span>
<span id="cb14-8"><a href="#cb14-8"></a>  <span class="cf">return</span> (</span>
<span id="cb14-9"><a href="#cb14-9"></a>    <span class="op">&lt;&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>      <span class="op">&lt;</span>nav<span class="op">&gt;</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>        <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb14-12"><a href="#cb14-12"></a>          <span class="op">&lt;</span>Header <span class="op">/&gt;</span></span>
<span id="cb14-13"><a href="#cb14-13"></a>        <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb14-14"><a href="#cb14-14"></a>        <span class="op">&lt;</span>div <span class="op">&gt;</span></span>
<span id="cb14-15"><a href="#cb14-15"></a>          <span class="op">&lt;</span>Link to<span class="op">=</span><span class="st">"/simulation"</span><span class="op">&gt;</span>Simulation<span class="op">&lt;/</span>Link<span class="op">&gt;</span></span>
<span id="cb14-16"><a href="#cb14-16"></a>          <span class="op">&lt;</span>br<span class="op">/&gt;</span></span>
<span id="cb14-17"><a href="#cb14-17"></a>          <span class="op">&lt;</span>Link to<span class="op">=</span><span class="st">"/mysimulations"</span><span class="op">&gt;</span>MySimulations<span class="op">&lt;/</span>Link<span class="op">&gt;</span></span>
<span id="cb14-18"><a href="#cb14-18"></a>          <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb14-19"><a href="#cb14-19"></a>          <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb14-20"><a href="#cb14-20"></a>        <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb14-21"><a href="#cb14-21"></a>      <span class="op">&lt;/</span>nav<span class="op">&gt;</span></span>
<span id="cb14-22"><a href="#cb14-22"></a></span>
<span id="cb14-23"><a href="#cb14-23"></a>      <span class="op">&lt;</span>div style<span class="op">=</span>{{ <span class="dt">width</span><span class="op">:</span> <span class="st">"80%"</span> }}<span class="op">&gt;</span></span>
<span id="cb14-24"><a href="#cb14-24"></a>        <span class="op">&lt;</span>Outlet <span class="op">/&gt;</span></span>
<span id="cb14-25"><a href="#cb14-25"></a>      <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb14-26"><a href="#cb14-26"></a></span>
<span id="cb14-27"><a href="#cb14-27"></a>      <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb14-28"><a href="#cb14-28"></a>        <span class="op">&lt;</span>Footer <span class="op">/&gt;</span></span>
<span id="cb14-29"><a href="#cb14-29"></a>      <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb14-30"><a href="#cb14-30"></a>    <span class="op">&lt;/&gt;</span></span>
<span id="cb14-31"><a href="#cb14-31"></a>  )<span class="op">;</span></span>
<span id="cb14-32"><a href="#cb14-32"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
</div>
</section>
<section id="data-simulation" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="data-simulation"><span class="header-section-number">4.5</span> Data: <code>simulation</code></h2>
<p>In React.js, unlike in Java or Spring Boot, <strong>there isn’t a built-in model framework</strong>.</p>
<p>However, for our purposes, we can define our model using a literal object in JavaScript. Here’s an example of how we can define a model in React.js:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>MyApp.jsx</strong></pre>
</div>
<div class="sourceCode" id="cb15" data-filename="MyApp.jsx"><pre class="sourceCode numberSource js code-overflow-wrap number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1"></a></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="co">// ....</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="kw">const</span> simulation <span class="op">=</span> { </span>
<span id="cb15-4"><a href="#cb15-4"></a>    <span class="dt">id</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb15-5"><a href="#cb15-5"></a>    <span class="dt">createdAt</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toString</span>()<span class="op">,</span></span>
<span id="cb15-6"><a href="#cb15-6"></a>    <span class="dt">time</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb15-7"><a href="#cb15-7"></a>    <span class="dt">user</span><span class="op">:</span> <span class="st">""</span></span>
<span id="cb15-8"><a href="#cb15-8"></a>}</span>
<span id="cb15-9"><a href="#cb15-9"></a><span class="co">// ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In this code snippet, we’ve created a <code>simulation</code> <strong>object which represents our model</strong>.</p>
<p>It has properties such as <code>id</code>, <code>user</code>, <code>createdAt</code>, and <code>time</code>. This object can serve as a model for organizing and manipulating data within our React.js application.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/reactjs/traffic-schema-v0.1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="We will also need a fake-server-data to store simulation object"><img src="../images/reactjs/traffic-schema-v0.1-1.png" class="img-fluid figure-img" alt="We will also need a fake-server-data to store simulation object"></a></p>
<figcaption>We will also need a fake-server-data to store <code>simulation</code> object</figcaption>
</figure>
</div>
</section>
<section id="fetching-data-fake-server" class="level2 page-columns page-full" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="fetching-data-fake-server"><span class="header-section-number">4.6</span> Fetching data: fake server</h2>
<p>References:</p>
<ul>
<li><a href="../reactjs/rjslab1.html">Lab#RE01-1</a></li>
<li><a href="../reactjs/rjslab3-3.html">Lab#RE03-3</a></li>
<li><a href="../reactjs/reactjs-hook-context.html">useContext</a></li>
</ul>
<p><strong>mockapi</strong></p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>There’s a vast array of free web services available that offer APIs for developers to use in their projects.</p>
<p>These services, like <a href="https://www.mockapi.io/">mockapi.io</a> or <a href="https://jsonplaceholder.typicode.com/">jsonplaceholder.typicode.com</a>, <strong>provide developers with simulated data or temporary endpoints to test their applications without the need to set up their own backend servers or databases.</strong></p>
<p>For instance, in our lab, you’re using <strong>mockapi.io</strong> with a <mark>real endpoint to test our applicationrk</mark></p>
<p>This allows to mimic real-world <strong>scenarios</strong> and <strong>interactions</strong> without having to invest <strong>in creating a backend infrastructure from scratch</strong>.</p>
<p>However, it’s important to note that these services typically offer temporary solutions for testing purposes. Once our testing phase is complete and our application is ready for production, relying on such external services might not be feasible or reliable in the long term.</p>
<p>For instance, in our lab, we’re using <strong>mockapi.io</strong> with a <mark>real endpoint to test our application.</mark></p>
<p><mar>Therefore, the URL provided by <strong>mockapi.io</strong> will be discontinued after the testing phase, and you’ll need to transition to a more stable and permanent solution for your application’s backend like using Spring Boot Server.</mar></p>
</div>
</div>
<blockquote class="blockquote">
<p><code>MockAPI.io</code> is a web service that allows developers <strong>to create and simulate RESTful APIs for testing and development purposes.</strong></p>
</blockquote>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/reactjs/lab-re-3-11.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="mockapi creating scheme-model"><img src="../images/reactjs/lab-re-3-11.png" class="img-fluid figure-img" style="width:50.0%" alt="mockapi creating scheme-model"></a></p>
<figcaption>mockapi creating scheme-model</figcaption>
</figure>
</div>
<p>With <code>MockAPI.io</code>, developers can easily generate custom API endpoints and define the responses they want to receive when those endpoints are called. It provides a user-friendly interface to create, manage, and configure mock APIs, making it simple to simulate different scenarios and test how an application interacts with an API.</p>
<p><code>MockAPI.io</code> supports various HTTP methods, request headers, query parameters, and response types, allowing developers to mimic real API behavior. It’s a valuable tool for rapid prototyping, integration testing, and mocking data during development.</p>
<p><strong>Axios</strong></p>
<blockquote class="blockquote">
<p><code>Axios</code> is a JavaScript library used <strong>for making HTTP requests in React applications</strong>.</p>
</blockquote>
<p>It provides an <strong>easy-to-use</strong> and consistent API for performing <strong>asynchronous operations</strong>, such as fetching data from an API.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/reactjs/lab-re-3-13.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="Axios example Request Config"><img src="../images/reactjs/lab-re-3-13.png" class="img-fluid figure-img" alt="Axios example Request Config"></a></p>
<figcaption>Axios example <a href="https://axios-http.com/docs/req_config" class="external">Request Config</a></figcaption>
</figure>
</div>
<p><code>Axios</code> supports features like interceptors, automatic request/response transformation, and error handling. It works both in the browser and Node.js environments and offers support for various request methods (<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, etc.).</p>
<p><code>Axios</code> simplifies the process of making HTTP requests by providing a higher-level abstraction and allowing developers to handle responses and errors more efficiently</p>
<p><strong>useEffect</strong></p>
<ul>
<li><a href="../reactjs/reactjs-hook-effect.html">useEffect</a></li>
<li><a href="https://github.com/AlbertProfe/cancelCall" class="external" target="_blank">cancelCall code github</a></li>
</ul>
<p><mark>In React, the <code>useEffect</code> hook is used to perform side effects in function components. </mark></p>
<p>This includes data <strong>fetching</strong>, subscriptions, or manually changing the DOM. When dealing with API calls using <strong>Axios</strong>, it’s essential <strong>to handle cleanup to prevent memory leaks and unexpected behavior</strong>. Below is a clear function demonstrating <strong>how to cancel an Axios API call using the <code>useEffect</code> hook</strong>:</p>
<div class="column-page-right">
<details>
<summary>
DataSimulation.jsx CRUD Axios
</summary>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1"></a><span class="im">import</span> React<span class="op">,</span> { useState<span class="op">,</span> useEffect } <span class="im">from</span> <span class="st">'react'</span><span class="op">;</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="im">import</span> axios <span class="im">from</span> <span class="st">'axios'</span><span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3"></a></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="kw">const</span> DataSimulation <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb16-5"><a href="#cb16-5"></a>  <span class="kw">const</span> [data<span class="op">,</span> setData] <span class="op">=</span> <span class="fu">useState</span>(<span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>  <span class="kw">const</span> [error<span class="op">,</span> setError] <span class="op">=</span> <span class="fu">useState</span>(<span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb16-7"><a href="#cb16-7"></a></span>
<span id="cb16-8"><a href="#cb16-8"></a>  <span class="fu">useEffect</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb16-9"><a href="#cb16-9"></a>    <span class="kw">const</span> source <span class="op">=</span> axios<span class="op">.</span><span class="at">CancelToken</span><span class="op">.</span><span class="fu">source</span>()<span class="op">;</span></span>
<span id="cb16-10"><a href="#cb16-10"></a></span>
<span id="cb16-11"><a href="#cb16-11"></a>    <span class="kw">const</span> fetchData <span class="op">=</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb16-12"><a href="#cb16-12"></a>      <span class="cf">try</span> {</span>
<span id="cb16-13"><a href="#cb16-13"></a>        <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> axios<span class="op">.</span><span class="fu">get</span>(<span class="st">'https://api.example.com/data'</span><span class="op">,</span> {</span>
<span id="cb16-14"><a href="#cb16-14"></a>          <span class="dt">cancelToken</span><span class="op">:</span> source<span class="op">.</span><span class="at">token</span><span class="op">,</span></span>
<span id="cb16-15"><a href="#cb16-15"></a>        })<span class="op">;</span></span>
<span id="cb16-16"><a href="#cb16-16"></a>        <span class="fu">setData</span>(response<span class="op">.</span><span class="at">data</span>)<span class="op">;</span></span>
<span id="cb16-17"><a href="#cb16-17"></a>      } <span class="cf">catch</span> (error) {</span>
<span id="cb16-18"><a href="#cb16-18"></a>        <span class="cf">if</span> (axios<span class="op">.</span><span class="fu">isCancel</span>(error)) {</span>
<span id="cb16-19"><a href="#cb16-19"></a>          <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Request canceled:'</span><span class="op">,</span> error<span class="op">.</span><span class="at">message</span>)<span class="op">;</span></span>
<span id="cb16-20"><a href="#cb16-20"></a>        } <span class="cf">else</span> {</span>
<span id="cb16-21"><a href="#cb16-21"></a>          <span class="fu">setError</span>(error)<span class="op">;</span></span>
<span id="cb16-22"><a href="#cb16-22"></a>        }</span>
<span id="cb16-23"><a href="#cb16-23"></a>      }</span>
<span id="cb16-24"><a href="#cb16-24"></a>    }<span class="op">;</span></span>
<span id="cb16-25"><a href="#cb16-25"></a></span>
<span id="cb16-26"><a href="#cb16-26"></a>    <span class="fu">fetchData</span>()<span class="op">;</span></span>
<span id="cb16-27"><a href="#cb16-27"></a></span>
<span id="cb16-28"><a href="#cb16-28"></a>    <span class="cf">return</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb16-29"><a href="#cb16-29"></a>      source<span class="op">.</span><span class="fu">cancel</span>(<span class="st">'Component unmounted - Cancelling API request'</span>)<span class="op">;</span></span>
<span id="cb16-30"><a href="#cb16-30"></a>    }<span class="op">;</span></span>
<span id="cb16-31"><a href="#cb16-31"></a>  }<span class="op">,</span> [])<span class="op">;</span> <span class="co">// Empty dependency array means this effect will only run once</span></span>
<span id="cb16-32"><a href="#cb16-32"></a></span>
<span id="cb16-33"><a href="#cb16-33"></a>  <span class="cf">return</span> (</span>
<span id="cb16-34"><a href="#cb16-34"></a>    <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb16-35"><a href="#cb16-35"></a>      {data <span class="op">&amp;&amp;</span> <span class="op">&lt;</span>p<span class="op">&gt;</span><span class="dt">Data</span><span class="op">:</span> {data}<span class="op">&lt;/</span>p<span class="op">&gt;</span>}</span>
<span id="cb16-36"><a href="#cb16-36"></a>      {error <span class="op">&amp;&amp;</span> <span class="op">&lt;</span>p<span class="op">&gt;</span><span class="dt">Error</span><span class="op">:</span> {error<span class="op">.</span><span class="at">message</span>}<span class="op">&lt;/</span>p<span class="op">&gt;</span>}</span>
<span id="cb16-37"><a href="#cb16-37"></a>    <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb16-38"><a href="#cb16-38"></a>  )<span class="op">;</span></span>
<span id="cb16-39"><a href="#cb16-39"></a>}<span class="op">;</span></span>
<span id="cb16-40"><a href="#cb16-40"></a></span>
<span id="cb16-41"><a href="#cb16-41"></a><span class="im">export</span> <span class="im">default</span> DataSimulation<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>data component: axios &amp; <code>useContext</code></strong></p>
<div class="column-page-right">
<details>
<summary>
DataSimulation.jsx CRUD Axios
</summary>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>DataSimulation.js</strong></pre>
</div>
<div class="sourceCode" id="cb17" data-filename="DataSimulation.js"><pre class="sourceCode numberSource js code-overflow-wrap number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1"></a></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="im">import</span> React<span class="op">,</span> { useState<span class="op">,</span> useEffect<span class="op">,</span> createContext } <span class="im">from</span> <span class="st">"react"</span><span class="op">;</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="im">import</span> axios <span class="im">from</span> <span class="st">"axios"</span><span class="op">;</span></span>
<span id="cb17-4"><a href="#cb17-4"></a></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="kw">const</span> SimulationsContext <span class="op">=</span> <span class="fu">createContext</span>()<span class="op">;</span></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="kw">const</span> API_URL <span class="op">=</span> <span class="st">"https://65e82ef64bb72f0a9c4e7caf.mockapi.io/v1/todo"</span><span class="op">;</span></span>
<span id="cb17-7"><a href="#cb17-7"></a></span>
<span id="cb17-8"><a href="#cb17-8"></a><span class="kw">const</span> DataSimulations <span class="op">=</span> ({ children }) <span class="kw">=&gt;</span> {</span>
<span id="cb17-9"><a href="#cb17-9"></a>  <span class="kw">const</span> [simulations<span class="op">,</span> setSimulations] <span class="op">=</span> <span class="fu">useState</span>([])<span class="op">;</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>  <span class="kw">const</span> [isLoading<span class="op">,</span> setIsLoading] <span class="op">=</span> <span class="fu">useState</span>(<span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb17-11"><a href="#cb17-11"></a></span>
<span id="cb17-12"><a href="#cb17-12"></a>  <span class="fu">useEffect</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb17-13"><a href="#cb17-13"></a>    <span class="kw">const</span> fetchSimulations <span class="op">=</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb17-14"><a href="#cb17-14"></a>      <span class="cf">try</span> {</span>
<span id="cb17-15"><a href="#cb17-15"></a>        <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> axios<span class="op">.</span><span class="fu">get</span>(</span>
<span id="cb17-16"><a href="#cb17-16"></a>          <span class="st">"https://65e82ef64bb72f0a9c4e7caf.mockapi.io/v1/todo"</span></span>
<span id="cb17-17"><a href="#cb17-17"></a>        )<span class="op">;</span></span>
<span id="cb17-18"><a href="#cb17-18"></a>        <span class="fu">setSimulations</span>(response<span class="op">.</span><span class="at">data</span>)<span class="op">;</span></span>
<span id="cb17-19"><a href="#cb17-19"></a>      } <span class="cf">catch</span> (error) {</span>
<span id="cb17-20"><a href="#cb17-20"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"Error fetching data:"</span><span class="op">,</span> error)<span class="op">;</span></span>
<span id="cb17-21"><a href="#cb17-21"></a>      } <span class="cf">finally</span> {</span>
<span id="cb17-22"><a href="#cb17-22"></a>        <span class="fu">setIsLoading</span>(<span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb17-23"><a href="#cb17-23"></a>      }</span>
<span id="cb17-24"><a href="#cb17-24"></a>    }<span class="op">;</span></span>
<span id="cb17-25"><a href="#cb17-25"></a>    <span class="fu">fetchSimulations</span>()<span class="op">;</span></span>
<span id="cb17-26"><a href="#cb17-26"></a>  }<span class="op">,</span> [])<span class="op">;</span></span>
<span id="cb17-27"><a href="#cb17-27"></a></span>
<span id="cb17-28"><a href="#cb17-28"></a>  <span class="kw">const</span> deleteSimulation <span class="op">=</span> <span class="kw">async</span> (id) <span class="kw">=&gt;</span> {</span>
<span id="cb17-29"><a href="#cb17-29"></a>    <span class="cf">try</span> {</span>
<span id="cb17-30"><a href="#cb17-30"></a>      <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> axios<span class="op">.</span><span class="fu">delete</span>(</span>
<span id="cb17-31"><a href="#cb17-31"></a>        <span class="vs">`https://65e82ef64bb72f0a9c4e7caf.mockapi.io/v1/todo/</span><span class="sc">${</span>id<span class="sc">}</span><span class="vs">`</span></span>
<span id="cb17-32"><a href="#cb17-32"></a>      )<span class="op">;</span></span>
<span id="cb17-33"><a href="#cb17-33"></a>      <span class="fu">setSimulations</span>(simulations<span class="op">.</span><span class="fu">filter</span>((simulation) <span class="kw">=&gt;</span> simulation<span class="op">.</span><span class="at">id</span> <span class="op">!==</span> id))<span class="op">;</span></span>
<span id="cb17-34"><a href="#cb17-34"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb17-35"><a href="#cb17-35"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"Error deleting simulation:"</span><span class="op">,</span> error)<span class="op">;</span></span>
<span id="cb17-36"><a href="#cb17-36"></a>    }</span>
<span id="cb17-37"><a href="#cb17-37"></a>  }<span class="op">;</span></span>
<span id="cb17-38"><a href="#cb17-38"></a></span>
<span id="cb17-39"><a href="#cb17-39"></a>  <span class="kw">const</span> addSimulation <span class="op">=</span> <span class="kw">async</span> (simulation) <span class="kw">=&gt;</span> {</span>
<span id="cb17-40"><a href="#cb17-40"></a>    <span class="cf">try</span> {</span>
<span id="cb17-41"><a href="#cb17-41"></a>      <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> axios<span class="op">.</span><span class="fu">post</span>(</span>
<span id="cb17-42"><a href="#cb17-42"></a>        <span class="st">"https://65e82ef64bb72f0a9c4e7caf.mockapi.io/v1/todo"</span><span class="op">,</span></span>
<span id="cb17-43"><a href="#cb17-43"></a>        simulation</span>
<span id="cb17-44"><a href="#cb17-44"></a>      )<span class="op">;</span></span>
<span id="cb17-45"><a href="#cb17-45"></a>      <span class="fu">setSimulations</span>([<span class="op">...</span>simulations<span class="op">,</span> response<span class="op">.</span><span class="at">data</span>])<span class="op">;</span></span>
<span id="cb17-46"><a href="#cb17-46"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb17-47"><a href="#cb17-47"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"Error adding simulation:"</span><span class="op">,</span> error)<span class="op">;</span></span>
<span id="cb17-48"><a href="#cb17-48"></a>    }</span>
<span id="cb17-49"><a href="#cb17-49"></a>  }<span class="op">;</span></span>
<span id="cb17-50"><a href="#cb17-50"></a></span>
<span id="cb17-51"><a href="#cb17-51"></a>  <span class="kw">const</span> updateSimulation <span class="op">=</span> <span class="kw">async</span> (simulation) <span class="kw">=&gt;</span> {</span>
<span id="cb17-52"><a href="#cb17-52"></a>    <span class="cf">try</span> {</span>
<span id="cb17-53"><a href="#cb17-53"></a>      <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> axios<span class="op">.</span><span class="fu">put</span>(</span>
<span id="cb17-54"><a href="#cb17-54"></a>        <span class="vs">`https://65e82ef64bb72f0a9c4e7caf.mockapi.io/v1/todo/</span><span class="sc">${</span>simulation<span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">`</span><span class="op">,</span></span>
<span id="cb17-55"><a href="#cb17-55"></a>        simulation</span>
<span id="cb17-56"><a href="#cb17-56"></a>      )<span class="op">;</span></span>
<span id="cb17-57"><a href="#cb17-57"></a>      <span class="fu">setSimulations</span>(</span>
<span id="cb17-58"><a href="#cb17-58"></a>        simulations<span class="op">.</span><span class="fu">map</span>((s) <span class="kw">=&gt;</span> (s<span class="op">.</span><span class="at">id</span> <span class="op">===</span> simulation<span class="op">.</span><span class="at">id</span> <span class="op">?</span> response<span class="op">.</span><span class="at">data</span> <span class="op">:</span> s))</span>
<span id="cb17-59"><a href="#cb17-59"></a>      )<span class="op">;</span></span>
<span id="cb17-60"><a href="#cb17-60"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb17-61"><a href="#cb17-61"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">"Error updating simulation:"</span><span class="op">,</span> error)<span class="op">;</span></span>
<span id="cb17-62"><a href="#cb17-62"></a>    }</span>
<span id="cb17-63"><a href="#cb17-63"></a>  }<span class="op">;</span></span>
<span id="cb17-64"><a href="#cb17-64"></a></span>
<span id="cb17-65"><a href="#cb17-65"></a>  <span class="cf">return</span> (</span>
<span id="cb17-66"><a href="#cb17-66"></a>    <span class="op">&lt;</span>SimulationsContext<span class="op">.</span><span class="at">Provider</span></span>
<span id="cb17-67"><a href="#cb17-67"></a>      value<span class="op">=</span>{{</span>
<span id="cb17-68"><a href="#cb17-68"></a>        simulations<span class="op">,</span></span>
<span id="cb17-69"><a href="#cb17-69"></a>        isLoading<span class="op">,</span></span>
<span id="cb17-70"><a href="#cb17-70"></a>        deleteSimulation<span class="op">,</span></span>
<span id="cb17-71"><a href="#cb17-71"></a>        addSimulation<span class="op">,</span></span>
<span id="cb17-72"><a href="#cb17-72"></a>        updateSimulation<span class="op">,</span></span>
<span id="cb17-73"><a href="#cb17-73"></a>      }}</span>
<span id="cb17-74"><a href="#cb17-74"></a>    <span class="op">&gt;</span></span>
<span id="cb17-75"><a href="#cb17-75"></a>      {children}</span>
<span id="cb17-76"><a href="#cb17-76"></a>    <span class="op">&lt;/</span>SimulationsContext<span class="op">.</span><span class="at">Provider</span><span class="op">&gt;</span></span>
<span id="cb17-77"><a href="#cb17-77"></a>  )<span class="op">;</span></span>
<span id="cb17-78"><a href="#cb17-78"></a>}<span class="op">;</span></span>
<span id="cb17-79"><a href="#cb17-79"></a></span>
<span id="cb17-80"><a href="#cb17-80"></a><span class="im">export</span> { DataSimulations<span class="op">,</span> SimulationsContext }<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<p>This code sets up a context provider component for managing simulation data and provides functions for CRUD operations on that data. Other components in the React application can consume this context to access and manipulate simulation data.</p>
</div></div><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/reactjs/simulation-data-v0.4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10" title="The code DataSimulations manages simulation data"><img src="../images/reactjs/simulation-data-v0.4.png" class="img-fluid figure-img" alt="The code DataSimulations manages simulation data"></a></p>
<figcaption>The code DataSimulations manages simulation data</figcaption>
</figure>
</div>
<p>The code <code>DataSimulations</code> manages <strong>simulation</strong> data.</p>
<p>It utilizes React hooks such as <code>useState</code> and <code>useEffect</code> for state management and side effects. Additionally, it creates a context named <code>SimulationsContext</code> <mark>to provide simulation data and related functions to its child components.</mark> Here’s a breakdown of what the code does:</p>
<ol type="1">
<li><strong>Import Statements</strong>:
<ul>
<li>It imports necessary modules from React and Axios.</li>
</ul></li>
<li><strong>Context Creation</strong>:
<ul>
<li>It creates a context named <code>SimulationsContext</code> using <code>createContext()</code> from React.</li>
</ul></li>
<li><strong>DataSimulations Component</strong>:
<ul>
<li>This is the main component that handles simulation data.</li>
<li>It initializes state variables using the <code>useState</code> hook: <code>simulations</code> to hold simulation data and <code>isLoading</code> to track whether data is loading.</li>
<li>It uses the <code>useEffect</code> hook to fetch simulation data from a mock API endpoint when the component mounts.</li>
<li>Inside <code>useEffect</code>, it defines an asynchronous function <code>fetchSimulations()</code> to make a GET request to the API endpoint and update the state accordingly.</li>
<li>It defines functions to perform CRUD operations on simulation data:
<ul>
<li><code>deleteSimulation</code>: Deletes a simulation by its ID.</li>
<li><code>addSimulation</code>: Adds a new simulation.</li>
<li><code>updateSimulation</code>: Updates an existing simulation.</li>
</ul></li>
<li>It returns a JSX element wrapping its children with <code>SimulationsContext.Provider</code>, providing simulation data and related functions as context values.</li>
</ul></li>
<li><strong>Export</strong>:
<ul>
<li>It exports <code>DataSimulations</code> component and <code>SimulationsContext</code> context.</li>
<li>Be careful: do not use <code>default</code>. A file <strong>can only have one default export</strong>, but it can have numerous named exports!</li>
</ul></li>
</ol>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Exporting and importing multiple components from the same file</strong></p>
<ul>
<li><a href="https://react.dev/learn/importing-and-exporting-components#exporting-and-importing-a-component" class="external" target="_blank">Exporting and importing</a> a component.</li>
</ul>
<p>To reduce the potential confusion between <code>default</code> and <code>named</code> exports, <strong>some teams choose to only stick to one style (<code>default</code> or <code>named</code>)</strong>, or avoid mixing them in a single file. Do what works best for you!</p>
</div>
</div>
</section>
<section id="rendering-data-mysimulations" class="level2 page-columns page-full" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="rendering-data-mysimulations"><span class="header-section-number">4.7</span> Rendering data: <code>MySimulations</code></h2>
<p><strong>totally coupled <code>MySimulations.jsx</code></strong></p>
<p><mark>We should create a draft version to test the imported data from mockapi fake server by API Rest axios.</mark></p>
<p>This draft will place all CRUD operations in just one component, <strong>business logic and render</strong>:</p>
<ul>
<li>importing <strong>Axios</strong> functions via <code>useContext</code> from <code>DataSimulation</code></li>
<li>importing data: <code>simulations</code>via <code>useContext</code></li>
<li>creating the <strong>handlers</strong> for the CRUD operations.</li>
<li>creating the <strong>hoooks</strong> we wil need to manage state.</li>
<li>creating the <strong>JSX code to render the html elements</strong></li>
</ul>
<p>Then, we will decouple it into several components with a better organized structure.</p>
<div class="column-page-right">
<details>
<summary>
MySimulations.jsx just one component to render simulations
</summary>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>MySimulations.jsx</strong></pre>
</div>
<div class="sourceCode" id="cb18" data-filename="MySimulations.jsx"><pre class="sourceCode numberSource js code-overflow-wrap number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1"></a><span class="im">import</span> React<span class="op">,</span> { useContext<span class="op">,</span> useState } <span class="im">from</span> <span class="st">"react"</span><span class="op">;</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="im">import</span> { SimulationsContext } <span class="im">from</span> <span class="st">"../middleware/DataSimulations"</span><span class="op">;</span></span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="kw">const</span> MySimulations <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb18-5"><a href="#cb18-5"></a>  <span class="kw">const</span> {</span>
<span id="cb18-6"><a href="#cb18-6"></a>    simulations<span class="op">,</span></span>
<span id="cb18-7"><a href="#cb18-7"></a>    isLoading<span class="op">,</span></span>
<span id="cb18-8"><a href="#cb18-8"></a>    deleteSimulation<span class="op">,</span></span>
<span id="cb18-9"><a href="#cb18-9"></a>    addSimulation<span class="op">,</span></span>
<span id="cb18-10"><a href="#cb18-10"></a>    updateSimulation<span class="op">,</span></span>
<span id="cb18-11"><a href="#cb18-11"></a>  } <span class="op">=</span> <span class="fu">useContext</span>(SimulationsContext)<span class="op">;</span></span>
<span id="cb18-12"><a href="#cb18-12"></a></span>
<span id="cb18-13"><a href="#cb18-13"></a>  <span class="kw">const</span> [newSimulationData<span class="op">,</span> setNewSimulationData] <span class="op">=</span> <span class="fu">useState</span>({</span>
<span id="cb18-14"><a href="#cb18-14"></a>    <span class="dt">user</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb18-15"><a href="#cb18-15"></a>    <span class="dt">createdAt</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toString</span>()<span class="op">,</span></span>
<span id="cb18-16"><a href="#cb18-16"></a>    <span class="dt">time</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb18-17"><a href="#cb18-17"></a>  })<span class="op">;</span></span>
<span id="cb18-18"><a href="#cb18-18"></a>  <span class="kw">const</span> [editingSimulationId<span class="op">,</span> setEditingSimulationId] <span class="op">=</span> <span class="fu">useState</span>(<span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb18-19"><a href="#cb18-19"></a>  <span class="kw">const</span> [editingSimulationData<span class="op">,</span> setEditingSimulationData] <span class="op">=</span> <span class="fu">useState</span>({</span>
<span id="cb18-20"><a href="#cb18-20"></a>    <span class="dt">user</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb18-21"><a href="#cb18-21"></a>    <span class="dt">createdAt</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toString</span>()<span class="op">,</span></span>
<span id="cb18-22"><a href="#cb18-22"></a>    <span class="dt">time</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb18-23"><a href="#cb18-23"></a>  })<span class="op">;</span></span>
<span id="cb18-24"><a href="#cb18-24"></a></span>
<span id="cb18-25"><a href="#cb18-25"></a>  <span class="co">// ...</span></span>
<span id="cb18-26"><a href="#cb18-26"></a>  <span class="co">// Create simulation</span></span>
<span id="cb18-27"><a href="#cb18-27"></a>  <span class="co">// ...</span></span>
<span id="cb18-28"><a href="#cb18-28"></a></span>
<span id="cb18-29"><a href="#cb18-29"></a>  <span class="co">// Add new simulation onClick with newSimulationData state</span></span>
<span id="cb18-30"><a href="#cb18-30"></a>  <span class="co">// using addSimulation function with axios request</span></span>
<span id="cb18-31"><a href="#cb18-31"></a>  <span class="co">// and reset input fields after creating the simulation</span></span>
<span id="cb18-32"><a href="#cb18-32"></a>  <span class="kw">const</span> handleCreate <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb18-33"><a href="#cb18-33"></a>    <span class="co">// Assuming newSimulationData contains the data for the new simulation</span></span>
<span id="cb18-34"><a href="#cb18-34"></a>    <span class="fu">addSimulation</span>(newSimulationData)<span class="op">;</span></span>
<span id="cb18-35"><a href="#cb18-35"></a>    <span class="co">// Reset input fields after creating the simulation</span></span>
<span id="cb18-36"><a href="#cb18-36"></a>    <span class="fu">setNewSimulationData</span>({</span>
<span id="cb18-37"><a href="#cb18-37"></a>      <span class="dt">user</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb18-38"><a href="#cb18-38"></a>      <span class="dt">createdAt</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toString</span>()<span class="op">,</span></span>
<span id="cb18-39"><a href="#cb18-39"></a>      <span class="dt">time</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb18-40"><a href="#cb18-40"></a>    })<span class="op">;</span></span>
<span id="cb18-41"><a href="#cb18-41"></a>  }<span class="op">;</span></span>
<span id="cb18-42"><a href="#cb18-42"></a></span>
<span id="cb18-43"><a href="#cb18-43"></a>  <span class="co">// Handle changes in input fields for adding new simulation</span></span>
<span id="cb18-44"><a href="#cb18-44"></a>  <span class="co">// using setNewSimulationData state</span></span>
<span id="cb18-45"><a href="#cb18-45"></a>  <span class="kw">const</span> handleAddChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> {</span>
<span id="cb18-46"><a href="#cb18-46"></a>    <span class="co">// Get the name and value of the input field</span></span>
<span id="cb18-47"><a href="#cb18-47"></a>    <span class="kw">const</span> { name<span class="op">,</span> value } <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb18-48"><a href="#cb18-48"></a>    <span class="co">// Update the newSimulationData state</span></span>
<span id="cb18-49"><a href="#cb18-49"></a>    <span class="fu">setNewSimulationData</span>((prevData) <span class="kw">=&gt;</span> ({</span>
<span id="cb18-50"><a href="#cb18-50"></a>      <span class="co">// Spread the previous data</span></span>
<span id="cb18-51"><a href="#cb18-51"></a>      <span class="op">...</span>prevData<span class="op">,</span></span>
<span id="cb18-52"><a href="#cb18-52"></a>      <span class="co">// Set the value of the input field to the new value</span></span>
<span id="cb18-53"><a href="#cb18-53"></a>      [name]<span class="op">:</span> value<span class="op">,</span></span>
<span id="cb18-54"><a href="#cb18-54"></a>    }))<span class="op">;</span></span>
<span id="cb18-55"><a href="#cb18-55"></a>  }<span class="op">;</span></span>
<span id="cb18-56"><a href="#cb18-56"></a></span>
<span id="cb18-57"><a href="#cb18-57"></a>  <span class="co">// ...</span></span>
<span id="cb18-58"><a href="#cb18-58"></a>  <span class="co">// Edit simulation</span></span>
<span id="cb18-59"><a href="#cb18-59"></a>  <span class="co">// ...</span></span>
<span id="cb18-60"><a href="#cb18-60"></a></span>
<span id="cb18-61"><a href="#cb18-61"></a>  <span class="co">// Edit simulation onClick with editingSimulationId state</span></span>
<span id="cb18-62"><a href="#cb18-62"></a>  <span class="co">// using updateSimulation function with axios request</span></span>
<span id="cb18-63"><a href="#cb18-63"></a>  <span class="co">// and reset editing state after editing the simulation</span></span>
<span id="cb18-64"><a href="#cb18-64"></a>  <span class="kw">const</span> handleUpdate <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb18-65"><a href="#cb18-65"></a>    <span class="co">// Update the simulation with the new data</span></span>
<span id="cb18-66"><a href="#cb18-66"></a>    <span class="fu">updateSimulation</span>(editingSimulationData)<span class="op">;</span></span>
<span id="cb18-67"><a href="#cb18-67"></a>    <span class="co">// Reset editing state</span></span>
<span id="cb18-68"><a href="#cb18-68"></a>    <span class="fu">setEditingSimulationId</span>(<span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb18-69"><a href="#cb18-69"></a>    <span class="co">// Reset editing data</span></span>
<span id="cb18-70"><a href="#cb18-70"></a>    <span class="fu">setEditingSimulationData</span>({</span>
<span id="cb18-71"><a href="#cb18-71"></a>      <span class="dt">user</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb18-72"><a href="#cb18-72"></a>      <span class="dt">createdAt</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toString</span>()<span class="op">,</span></span>
<span id="cb18-73"><a href="#cb18-73"></a>      <span class="dt">time</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb18-74"><a href="#cb18-74"></a>    })<span class="op">;</span></span>
<span id="cb18-75"><a href="#cb18-75"></a>  }<span class="op">;</span></span>
<span id="cb18-76"><a href="#cb18-76"></a></span>
<span id="cb18-77"><a href="#cb18-77"></a>  <span class="co">// Handle starting edit of a simulation onClick edit button</span></span>
<span id="cb18-78"><a href="#cb18-78"></a>  <span class="co">// with editingSimulationId state equal to the id of the simulation</span></span>
<span id="cb18-79"><a href="#cb18-79"></a>  <span class="co">// being edited and setEditingSimulationData state</span></span>
<span id="cb18-80"><a href="#cb18-80"></a>  <span class="co">// with the current data of the simulation being edited</span></span>
<span id="cb18-81"><a href="#cb18-81"></a>  <span class="kw">const</span> handleEditSelectId <span class="op">=</span> (id) <span class="kw">=&gt;</span> {</span>
<span id="cb18-82"><a href="#cb18-82"></a>    <span class="co">// Find the simulation being edited</span></span>
<span id="cb18-83"><a href="#cb18-83"></a>    <span class="kw">const</span> simulationToEdit <span class="op">=</span> simulations<span class="op">.</span><span class="fu">find</span>(</span>
<span id="cb18-84"><a href="#cb18-84"></a>      (simulation) <span class="kw">=&gt;</span> simulation<span class="op">.</span><span class="at">id</span> <span class="op">===</span> id</span>
<span id="cb18-85"><a href="#cb18-85"></a>    )<span class="op">;</span></span>
<span id="cb18-86"><a href="#cb18-86"></a>    <span class="co">// Set the ID of the simulation being edited</span></span>
<span id="cb18-87"><a href="#cb18-87"></a>    <span class="fu">setEditingSimulationId</span>(id)<span class="op">;</span></span>
<span id="cb18-88"><a href="#cb18-88"></a>    <span class="co">// Populate the editing data with the current data of the simulation</span></span>
<span id="cb18-89"><a href="#cb18-89"></a>    <span class="fu">setEditingSimulationData</span>(simulationToEdit)<span class="op">;</span></span>
<span id="cb18-90"><a href="#cb18-90"></a>  }<span class="op">;</span></span>
<span id="cb18-91"><a href="#cb18-91"></a></span>
<span id="cb18-92"><a href="#cb18-92"></a>  <span class="co">// Handle changes in input fields for editing simulation</span></span>
<span id="cb18-93"><a href="#cb18-93"></a>  <span class="co">// using setEditingSimulationData state</span></span>
<span id="cb18-94"><a href="#cb18-94"></a>  <span class="kw">const</span> handleEditChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> {</span>
<span id="cb18-95"><a href="#cb18-95"></a>    <span class="kw">const</span> { name<span class="op">,</span> value } <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb18-96"><a href="#cb18-96"></a>    <span class="fu">setEditingSimulationData</span>((prevData) <span class="kw">=&gt;</span> ({</span>
<span id="cb18-97"><a href="#cb18-97"></a>      <span class="op">...</span>prevData<span class="op">,</span></span>
<span id="cb18-98"><a href="#cb18-98"></a>      [name]<span class="op">:</span> value<span class="op">,</span></span>
<span id="cb18-99"><a href="#cb18-99"></a>    }))<span class="op">;</span></span>
<span id="cb18-100"><a href="#cb18-100"></a>  }<span class="op">;</span></span>
<span id="cb18-101"><a href="#cb18-101"></a></span>
<span id="cb18-102"><a href="#cb18-102"></a>  <span class="cf">return</span> (</span>
<span id="cb18-103"><a href="#cb18-103"></a>    <span class="op">&lt;&gt;</span></span>
<span id="cb18-104"><a href="#cb18-104"></a>      <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-105"><a href="#cb18-105"></a>      <span class="op">&lt;</span>h1<span class="op">&gt;</span>Simulations<span class="op">&lt;/</span>h1<span class="op">&gt;</span></span>
<span id="cb18-106"><a href="#cb18-106"></a>      <span class="op">&lt;</span>hr <span class="op">/&gt;</span></span>
<span id="cb18-107"><a href="#cb18-107"></a>      <span class="op">&lt;</span>h2<span class="op">&gt;</span>Add Simulation<span class="op">&lt;/</span>h2<span class="op">&gt;</span></span>
<span id="cb18-108"><a href="#cb18-108"></a>      <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb18-109"><a href="#cb18-109"></a>        <span class="op">&lt;</span>label<span class="op">&gt;</span>User<span class="op">&lt;/</span>label<span class="op">&gt;</span></span>
<span id="cb18-110"><a href="#cb18-110"></a>        <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-111"><a href="#cb18-111"></a>        <span class="op">&lt;</span>input</span>
<span id="cb18-112"><a href="#cb18-112"></a>          className<span class="op">=</span><span class="st">"simulationInput"</span></span>
<span id="cb18-113"><a href="#cb18-113"></a>          type<span class="op">=</span><span class="st">"text"</span></span>
<span id="cb18-114"><a href="#cb18-114"></a>          name<span class="op">=</span><span class="st">"user"</span></span>
<span id="cb18-115"><a href="#cb18-115"></a>          value<span class="op">=</span>{newSimulationData<span class="op">.</span><span class="at">user</span>}</span>
<span id="cb18-116"><a href="#cb18-116"></a>          onChange<span class="op">=</span>{handleAddChange}</span>
<span id="cb18-117"><a href="#cb18-117"></a>        <span class="op">/&gt;</span></span>
<span id="cb18-118"><a href="#cb18-118"></a>      <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb18-119"><a href="#cb18-119"></a>      <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb18-120"><a href="#cb18-120"></a>        <span class="op">&lt;</span>label<span class="op">&gt;</span>Time<span class="op">&lt;/</span>label<span class="op">&gt;</span></span>
<span id="cb18-121"><a href="#cb18-121"></a>        <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-122"><a href="#cb18-122"></a>        <span class="op">&lt;</span>input</span>
<span id="cb18-123"><a href="#cb18-123"></a>          className<span class="op">=</span><span class="st">"simulationInput"</span></span>
<span id="cb18-124"><a href="#cb18-124"></a>          type<span class="op">=</span><span class="st">"text"</span></span>
<span id="cb18-125"><a href="#cb18-125"></a>          name<span class="op">=</span><span class="st">"time"</span></span>
<span id="cb18-126"><a href="#cb18-126"></a>          value<span class="op">=</span>{newSimulationData<span class="op">.</span><span class="at">time</span>}</span>
<span id="cb18-127"><a href="#cb18-127"></a>          onChange<span class="op">=</span>{handleAddChange}</span>
<span id="cb18-128"><a href="#cb18-128"></a>        <span class="op">/&gt;</span></span>
<span id="cb18-129"><a href="#cb18-129"></a>      <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb18-130"><a href="#cb18-130"></a>      <span class="op">&lt;</span>button</span>
<span id="cb18-131"><a href="#cb18-131"></a>        className<span class="op">=</span><span class="st">"crudButton"</span></span>
<span id="cb18-132"><a href="#cb18-132"></a>        style<span class="op">=</span>{{</span>
<span id="cb18-133"><a href="#cb18-133"></a>          <span class="dt">backgroundColor</span><span class="op">:</span> <span class="st">"#ff5733"</span><span class="op">,</span></span>
<span id="cb18-134"><a href="#cb18-134"></a>        }}</span>
<span id="cb18-135"><a href="#cb18-135"></a>        onClick<span class="op">=</span>{handleCreate}</span>
<span id="cb18-136"><a href="#cb18-136"></a>      <span class="op">&gt;</span></span>
<span id="cb18-137"><a href="#cb18-137"></a>        Create</span>
<span id="cb18-138"><a href="#cb18-138"></a>      <span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb18-139"><a href="#cb18-139"></a>      <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-140"><a href="#cb18-140"></a>      <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-141"><a href="#cb18-141"></a>      <span class="op">&lt;</span>hr <span class="op">/&gt;</span></span>
<span id="cb18-142"><a href="#cb18-142"></a>      <span class="op">&lt;</span>h2<span class="op">&gt;</span>Simulations list<span class="op">&lt;/</span>h2<span class="op">&gt;</span></span>
<span id="cb18-143"><a href="#cb18-143"></a>      {isLoading <span class="op">?</span> (</span>
<span id="cb18-144"><a href="#cb18-144"></a>        <span class="op">&lt;</span>p<span class="op">&gt;</span>Loading<span class="op">...&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb18-145"><a href="#cb18-145"></a>      ) <span class="op">:</span> (</span>
<span id="cb18-146"><a href="#cb18-146"></a>        <span class="op">&lt;&gt;</span></span>
<span id="cb18-147"><a href="#cb18-147"></a>          <span class="op">&lt;</span>ul style<span class="op">=</span>{{ <span class="dt">listStyleType</span><span class="op">:</span> <span class="st">"none"</span> }}<span class="op">&gt;</span></span>
<span id="cb18-148"><a href="#cb18-148"></a>            {simulations<span class="op">.</span><span class="fu">map</span>((simulation) <span class="kw">=&gt;</span> (</span>
<span id="cb18-149"><a href="#cb18-149"></a>              <span class="op">&lt;</span>li key<span class="op">=</span>{simulation<span class="op">.</span><span class="at">key</span>}<span class="op">&gt;</span></span>
<span id="cb18-150"><a href="#cb18-150"></a>                <span class="op">&lt;</span>strong<span class="op">&gt;</span><span class="dt">User</span><span class="op">:&lt;/</span>strong<span class="op">&gt;</span> {simulation<span class="op">.</span><span class="at">user</span>} <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-151"><a href="#cb18-151"></a>                <span class="dt">id</span><span class="op">:</span> {simulation<span class="op">.</span><span class="at">id</span>} <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-152"><a href="#cb18-152"></a>                <span class="dt">Created</span><span class="op">:</span> {simulation<span class="op">.</span><span class="at">createdAt</span>} <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-153"><a href="#cb18-153"></a>                <span class="dt">Time</span><span class="op">:</span> {simulation<span class="op">.</span><span class="at">time</span>} <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-154"><a href="#cb18-154"></a>                <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-155"><a href="#cb18-155"></a>                {editingSimulationId <span class="op">===</span> simulation<span class="op">.</span><span class="at">id</span> <span class="op">?</span> (</span>
<span id="cb18-156"><a href="#cb18-156"></a>                  <span class="op">&lt;&gt;</span></span>
<span id="cb18-157"><a href="#cb18-157"></a>                    <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb18-158"><a href="#cb18-158"></a>                      <span class="op">&lt;</span>label<span class="op">&gt;</span>User<span class="op">&lt;/</span>label<span class="op">&gt;</span></span>
<span id="cb18-159"><a href="#cb18-159"></a>                      <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-160"><a href="#cb18-160"></a>                      <span class="op">&lt;</span>input</span>
<span id="cb18-161"><a href="#cb18-161"></a>                        className<span class="op">=</span><span class="st">"simulationInput"</span></span>
<span id="cb18-162"><a href="#cb18-162"></a>                        type<span class="op">=</span><span class="st">"text"</span></span>
<span id="cb18-163"><a href="#cb18-163"></a>                        name<span class="op">=</span><span class="st">"user"</span></span>
<span id="cb18-164"><a href="#cb18-164"></a>                        value<span class="op">=</span>{editingSimulationData<span class="op">.</span><span class="at">user</span>}</span>
<span id="cb18-165"><a href="#cb18-165"></a>                        onChange<span class="op">=</span>{handleEditChange}</span>
<span id="cb18-166"><a href="#cb18-166"></a>                      <span class="op">/&gt;</span></span>
<span id="cb18-167"><a href="#cb18-167"></a>                    <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb18-168"><a href="#cb18-168"></a></span>
<span id="cb18-169"><a href="#cb18-169"></a>                    <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb18-170"><a href="#cb18-170"></a>                      <span class="op">&lt;</span>label<span class="op">&gt;</span>Time<span class="op">&lt;/</span>label<span class="op">&gt;</span></span>
<span id="cb18-171"><a href="#cb18-171"></a>                      <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-172"><a href="#cb18-172"></a>                      <span class="op">&lt;</span>input</span>
<span id="cb18-173"><a href="#cb18-173"></a>                        className<span class="op">=</span><span class="st">"simulationInput"</span></span>
<span id="cb18-174"><a href="#cb18-174"></a>                        type<span class="op">=</span><span class="st">"text"</span></span>
<span id="cb18-175"><a href="#cb18-175"></a>                        name<span class="op">=</span><span class="st">"time"</span></span>
<span id="cb18-176"><a href="#cb18-176"></a>                        value<span class="op">=</span>{editingSimulationData<span class="op">.</span><span class="at">time</span>}</span>
<span id="cb18-177"><a href="#cb18-177"></a>                        onChange<span class="op">=</span>{handleEditChange}</span>
<span id="cb18-178"><a href="#cb18-178"></a>                      <span class="op">/&gt;</span></span>
<span id="cb18-179"><a href="#cb18-179"></a>                    <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb18-180"><a href="#cb18-180"></a>                    <span class="op">&lt;</span>button</span>
<span id="cb18-181"><a href="#cb18-181"></a>                      style<span class="op">=</span>{{</span>
<span id="cb18-182"><a href="#cb18-182"></a>                        <span class="dt">backgroundColor</span><span class="op">:</span> <span class="st">"#ff5733"</span><span class="op">,</span></span>
<span id="cb18-183"><a href="#cb18-183"></a>                      }}</span>
<span id="cb18-184"><a href="#cb18-184"></a>                      className<span class="op">=</span><span class="st">"crudButton"</span></span>
<span id="cb18-185"><a href="#cb18-185"></a>                      onClick<span class="op">=</span>{handleUpdate}</span>
<span id="cb18-186"><a href="#cb18-186"></a>                    <span class="op">&gt;</span></span>
<span id="cb18-187"><a href="#cb18-187"></a>                      Save</span>
<span id="cb18-188"><a href="#cb18-188"></a>                    <span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb18-189"><a href="#cb18-189"></a>                    <span class="op">&lt;</span>button</span>
<span id="cb18-190"><a href="#cb18-190"></a>                      style<span class="op">=</span>{{</span>
<span id="cb18-191"><a href="#cb18-191"></a>                        <span class="dt">backgroundColor</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span></span>
<span id="cb18-192"><a href="#cb18-192"></a>                      }}</span>
<span id="cb18-193"><a href="#cb18-193"></a>                      className<span class="op">=</span><span class="st">"crudButton"</span></span>
<span id="cb18-194"><a href="#cb18-194"></a>                      onClick<span class="op">=</span>{() <span class="kw">=&gt;</span> <span class="fu">setEditingSimulationId</span>(<span class="kw">null</span>)}</span>
<span id="cb18-195"><a href="#cb18-195"></a>                    <span class="op">&gt;</span></span>
<span id="cb18-196"><a href="#cb18-196"></a>                      Close</span>
<span id="cb18-197"><a href="#cb18-197"></a>                    <span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb18-198"><a href="#cb18-198"></a>                  <span class="op">&lt;/&gt;</span></span>
<span id="cb18-199"><a href="#cb18-199"></a>                ) <span class="op">:</span> (</span>
<span id="cb18-200"><a href="#cb18-200"></a>                  <span class="op">&lt;&gt;</span></span>
<span id="cb18-201"><a href="#cb18-201"></a>                    <span class="op">&lt;</span>button</span>
<span id="cb18-202"><a href="#cb18-202"></a>                      className<span class="op">=</span><span class="st">"crudButton"</span></span>
<span id="cb18-203"><a href="#cb18-203"></a>                      style<span class="op">=</span>{{</span>
<span id="cb18-204"><a href="#cb18-204"></a>                        <span class="dt">backgroundColor</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span></span>
<span id="cb18-205"><a href="#cb18-205"></a>                      }}</span>
<span id="cb18-206"><a href="#cb18-206"></a>                      onClick<span class="op">=</span>{() <span class="kw">=&gt;</span> <span class="fu">deleteSimulation</span>(simulation<span class="op">.</span><span class="at">id</span>)}</span>
<span id="cb18-207"><a href="#cb18-207"></a>                    <span class="op">&gt;</span></span>
<span id="cb18-208"><a href="#cb18-208"></a>                      Delete</span>
<span id="cb18-209"><a href="#cb18-209"></a>                    <span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb18-210"><a href="#cb18-210"></a>                    <span class="op">&lt;</span>button</span>
<span id="cb18-211"><a href="#cb18-211"></a>                      className<span class="op">=</span><span class="st">"crudButton"</span></span>
<span id="cb18-212"><a href="#cb18-212"></a>                      style<span class="op">=</span>{{</span>
<span id="cb18-213"><a href="#cb18-213"></a>                        <span class="dt">backgroundColor</span><span class="op">:</span> <span class="st">"#8A9A5B"</span><span class="op">,</span></span>
<span id="cb18-214"><a href="#cb18-214"></a>                      }}</span>
<span id="cb18-215"><a href="#cb18-215"></a>                      onClick<span class="op">=</span>{() <span class="kw">=&gt;</span> <span class="fu">handleEditSelectId</span>(simulation<span class="op">.</span><span class="at">id</span>)}</span>
<span id="cb18-216"><a href="#cb18-216"></a>                    <span class="op">&gt;</span></span>
<span id="cb18-217"><a href="#cb18-217"></a>                      Edit</span>
<span id="cb18-218"><a href="#cb18-218"></a>                    <span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb18-219"><a href="#cb18-219"></a>                  <span class="op">&lt;/&gt;</span></span>
<span id="cb18-220"><a href="#cb18-220"></a>                )}</span>
<span id="cb18-221"><a href="#cb18-221"></a>                <span class="op">&lt;</span>br <span class="op">/&gt;</span> <span class="op">&lt;</span>br <span class="op">/&gt;</span> <span class="op">&lt;</span>br <span class="op">/&gt;</span> <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb18-222"><a href="#cb18-222"></a>              <span class="op">&lt;/</span>li<span class="op">&gt;</span></span>
<span id="cb18-223"><a href="#cb18-223"></a>            ))}</span>
<span id="cb18-224"><a href="#cb18-224"></a>          <span class="op">&lt;/</span>ul<span class="op">&gt;</span></span>
<span id="cb18-225"><a href="#cb18-225"></a>        <span class="op">&lt;/&gt;</span></span>
<span id="cb18-226"><a href="#cb18-226"></a>      )}</span>
<span id="cb18-227"><a href="#cb18-227"></a>    <span class="op">&lt;/&gt;</span></span>
<span id="cb18-228"><a href="#cb18-228"></a>  )<span class="op">;</span></span>
<span id="cb18-229"><a href="#cb18-229"></a>}<span class="op">;</span></span>
<span id="cb18-230"><a href="#cb18-230"></a></span>
<span id="cb18-231"><a href="#cb18-231"></a><span class="im">export</span> <span class="im">default</span> MySimulations<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
</div>
<p><strong>semi-coupled <code>MySimulations.jsx</code> CRUD</strong></p>
<p><mark>Breaking down the React component into smaller, focused components enhances code readability and maintainability.</mark></p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Decoupling the code into smaller React components represents a <strong>halfway point</strong> in separating concerns, laying a foundation for a cleaner and more manageable codebase. This approach not only improves developer productivity but also enhances the overall quality and stability of the application.</p>
</div></div><p>By creating separate components for tasks like <strong>simulation creation and listing</strong>, the code becomes more modular and easier to understand. This modular approach allows for better organization and reuse of code, promoting scalability and reducing duplication.</p>
<p>Moreover, <strong>decoupling rendering from business logic aligns with best practices</strong>, improving code maintainability over time.</p>
<p>Each component <strong>can focus on a specific aspect of functionality</strong>, making it easier to debug and update. Additionally, smaller components are more flexible and adaptable, enabling easier integration of new features or modifications.</p>
<ul>
<li><a href="https://github.com/AlbertProfe/trafficlights/tree/20e9ee5cb695d8e10ba10c3d867081d7c6285fbc/src/mysimulatons" class="external" target="_blank"><code>mySimulations</code> folder</a></li>
</ul>
<div class="column-page-right">
<details>
<summary>
MySimulations.jsx rendering data. It is just the render decoupled, not the business logic
</summary>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>MySimulations.jsx</strong></pre>
</div>
<div class="sourceCode" id="cb19" data-filename="MySimulations.jsx"><pre class="sourceCode numberSource js code-overflow-wrap number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb19-1"><a href="#cb19-1"></a><span class="im">import</span> { useContext<span class="op">,</span> useState } <span class="im">from</span> <span class="st">"react"</span><span class="op">;</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="im">import</span> { SimulationsContext } <span class="im">from</span> <span class="st">"../middleware/DataSimulations"</span><span class="op">;</span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="im">import</span> ListSimulations <span class="im">from</span> <span class="st">"./ListSimulation"</span></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="im">import</span> CreateSimulation <span class="im">from</span> <span class="st">"./CreateSimulation"</span></span>
<span id="cb19-5"><a href="#cb19-5"></a></span>
<span id="cb19-6"><a href="#cb19-6"></a></span>
<span id="cb19-7"><a href="#cb19-7"></a></span>
<span id="cb19-8"><a href="#cb19-8"></a><span class="kw">const</span> MySimulations <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb19-9"><a href="#cb19-9"></a>  <span class="kw">const</span> {</span>
<span id="cb19-10"><a href="#cb19-10"></a>    simulations<span class="op">,</span></span>
<span id="cb19-11"><a href="#cb19-11"></a>    isLoading<span class="op">,</span></span>
<span id="cb19-12"><a href="#cb19-12"></a>    deleteSimulation<span class="op">,</span></span>
<span id="cb19-13"><a href="#cb19-13"></a>    addSimulation<span class="op">,</span></span>
<span id="cb19-14"><a href="#cb19-14"></a>    updateSimulation<span class="op">,</span></span>
<span id="cb19-15"><a href="#cb19-15"></a>  } <span class="op">=</span> <span class="fu">useContext</span>(SimulationsContext)<span class="op">;</span></span>
<span id="cb19-16"><a href="#cb19-16"></a></span>
<span id="cb19-17"><a href="#cb19-17"></a>  <span class="kw">const</span> [newSimulationData<span class="op">,</span> setNewSimulationData] <span class="op">=</span> <span class="fu">useState</span>({</span>
<span id="cb19-18"><a href="#cb19-18"></a>    <span class="dt">user</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb19-19"><a href="#cb19-19"></a>    <span class="dt">createdAt</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toString</span>()<span class="op">,</span></span>
<span id="cb19-20"><a href="#cb19-20"></a>    <span class="dt">time</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb19-21"><a href="#cb19-21"></a>  })<span class="op">;</span></span>
<span id="cb19-22"><a href="#cb19-22"></a>  <span class="kw">const</span> [editingSimulationId<span class="op">,</span> setEditingSimulationId] <span class="op">=</span> <span class="fu">useState</span>(<span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb19-23"><a href="#cb19-23"></a>  <span class="kw">const</span> [editingSimulationData<span class="op">,</span> setEditingSimulationData] <span class="op">=</span> <span class="fu">useState</span>({</span>
<span id="cb19-24"><a href="#cb19-24"></a>    <span class="dt">user</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb19-25"><a href="#cb19-25"></a>    <span class="dt">createdAt</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toString</span>()<span class="op">,</span></span>
<span id="cb19-26"><a href="#cb19-26"></a>    <span class="dt">time</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb19-27"><a href="#cb19-27"></a>  })<span class="op">;</span></span>
<span id="cb19-28"><a href="#cb19-28"></a></span>
<span id="cb19-29"><a href="#cb19-29"></a>  <span class="kw">const</span> handleCreate <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb19-30"><a href="#cb19-30"></a>    <span class="fu">addSimulation</span>(newSimulationData)<span class="op">;</span></span>
<span id="cb19-31"><a href="#cb19-31"></a>    <span class="fu">setNewSimulationData</span>({</span>
<span id="cb19-32"><a href="#cb19-32"></a>      <span class="dt">user</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb19-33"><a href="#cb19-33"></a>      <span class="dt">createdAt</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toString</span>()<span class="op">,</span></span>
<span id="cb19-34"><a href="#cb19-34"></a>      <span class="dt">time</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb19-35"><a href="#cb19-35"></a>    })<span class="op">;</span></span>
<span id="cb19-36"><a href="#cb19-36"></a>  }<span class="op">;</span></span>
<span id="cb19-37"><a href="#cb19-37"></a></span>
<span id="cb19-38"><a href="#cb19-38"></a>  <span class="kw">const</span> handleAddChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> {</span>
<span id="cb19-39"><a href="#cb19-39"></a>    <span class="kw">const</span> { name<span class="op">,</span> value } <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb19-40"><a href="#cb19-40"></a>    <span class="fu">setNewSimulationData</span>((prevData) <span class="kw">=&gt;</span> ({</span>
<span id="cb19-41"><a href="#cb19-41"></a>      <span class="op">...</span>prevData<span class="op">,</span></span>
<span id="cb19-42"><a href="#cb19-42"></a>      [name]<span class="op">:</span> value<span class="op">,</span></span>
<span id="cb19-43"><a href="#cb19-43"></a>    }))<span class="op">;</span></span>
<span id="cb19-44"><a href="#cb19-44"></a>  }<span class="op">;</span></span>
<span id="cb19-45"><a href="#cb19-45"></a></span>
<span id="cb19-46"><a href="#cb19-46"></a>  <span class="kw">const</span> handleUpdate <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb19-47"><a href="#cb19-47"></a>    <span class="fu">updateSimulation</span>(editingSimulationData)<span class="op">;</span></span>
<span id="cb19-48"><a href="#cb19-48"></a>    <span class="fu">setEditingSimulationId</span>(<span class="kw">null</span>)<span class="op">;</span></span>
<span id="cb19-49"><a href="#cb19-49"></a>    <span class="fu">setEditingSimulationData</span>({</span>
<span id="cb19-50"><a href="#cb19-50"></a>      <span class="dt">user</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb19-51"><a href="#cb19-51"></a>      <span class="dt">createdAt</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toString</span>()<span class="op">,</span></span>
<span id="cb19-52"><a href="#cb19-52"></a>      <span class="dt">time</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb19-53"><a href="#cb19-53"></a>    })<span class="op">;</span></span>
<span id="cb19-54"><a href="#cb19-54"></a>  }<span class="op">;</span></span>
<span id="cb19-55"><a href="#cb19-55"></a></span>
<span id="cb19-56"><a href="#cb19-56"></a>  <span class="kw">const</span> handleEditSelectId <span class="op">=</span> (id) <span class="kw">=&gt;</span> {</span>
<span id="cb19-57"><a href="#cb19-57"></a>    <span class="kw">const</span> simulationToEdit <span class="op">=</span> simulations<span class="op">.</span><span class="fu">find</span>(</span>
<span id="cb19-58"><a href="#cb19-58"></a>      (simulation) <span class="kw">=&gt;</span> simulation<span class="op">.</span><span class="at">id</span> <span class="op">===</span> id</span>
<span id="cb19-59"><a href="#cb19-59"></a>    )<span class="op">;</span></span>
<span id="cb19-60"><a href="#cb19-60"></a>    <span class="fu">setEditingSimulationId</span>(id)<span class="op">;</span></span>
<span id="cb19-61"><a href="#cb19-61"></a>    <span class="fu">setEditingSimulationData</span>(simulationToEdit)<span class="op">;</span></span>
<span id="cb19-62"><a href="#cb19-62"></a>  }<span class="op">;</span></span>
<span id="cb19-63"><a href="#cb19-63"></a></span>
<span id="cb19-64"><a href="#cb19-64"></a>  <span class="kw">const</span> handleEditChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> {</span>
<span id="cb19-65"><a href="#cb19-65"></a>    <span class="kw">const</span> { name<span class="op">,</span> value } <span class="op">=</span> e<span class="op">.</span><span class="at">target</span><span class="op">;</span></span>
<span id="cb19-66"><a href="#cb19-66"></a>    <span class="fu">setEditingSimulationData</span>((prevData) <span class="kw">=&gt;</span> ({</span>
<span id="cb19-67"><a href="#cb19-67"></a>      <span class="op">...</span>prevData<span class="op">,</span></span>
<span id="cb19-68"><a href="#cb19-68"></a>      [name]<span class="op">:</span> value<span class="op">,</span></span>
<span id="cb19-69"><a href="#cb19-69"></a>    }))<span class="op">;</span></span>
<span id="cb19-70"><a href="#cb19-70"></a>  }<span class="op">;</span></span>
<span id="cb19-71"><a href="#cb19-71"></a></span>
<span id="cb19-72"><a href="#cb19-72"></a>  <span class="cf">return</span> (</span>
<span id="cb19-73"><a href="#cb19-73"></a>    <span class="op">&lt;&gt;</span></span>
<span id="cb19-74"><a href="#cb19-74"></a>      <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb19-75"><a href="#cb19-75"></a>      <span class="op">&lt;</span>h1 style<span class="op">=</span>{{ <span class="dt">textAlign</span><span class="op">:</span> <span class="st">"center"</span> }}<span class="op">&gt;</span>Simulations<span class="op">&lt;/</span>h1<span class="op">&gt;</span></span>
<span id="cb19-76"><a href="#cb19-76"></a>      <span class="op">&lt;</span>hr <span class="op">/&gt;</span></span>
<span id="cb19-77"><a href="#cb19-77"></a>      <span class="op">&lt;</span>CreateSimulation</span>
<span id="cb19-78"><a href="#cb19-78"></a>        newSimulationData<span class="op">=</span>{newSimulationData}</span>
<span id="cb19-79"><a href="#cb19-79"></a>        handleAddChange<span class="op">=</span>{handleAddChange}</span>
<span id="cb19-80"><a href="#cb19-80"></a>        handleCreate<span class="op">=</span>{handleCreate}</span>
<span id="cb19-81"><a href="#cb19-81"></a>      <span class="op">/&gt;</span></span>
<span id="cb19-82"><a href="#cb19-82"></a>      <span class="op">&lt;</span>br <span class="op">/&gt;</span></span>
<span id="cb19-83"><a href="#cb19-83"></a>      <span class="op">&lt;</span>hr <span class="op">/&gt;</span></span>
<span id="cb19-84"><a href="#cb19-84"></a>      <span class="op">&lt;</span>ListSimulations</span>
<span id="cb19-85"><a href="#cb19-85"></a>        simulations<span class="op">=</span>{simulations}</span>
<span id="cb19-86"><a href="#cb19-86"></a>        isLoading<span class="op">=</span>{isLoading}</span>
<span id="cb19-87"><a href="#cb19-87"></a>        handleEditSelectId<span class="op">=</span>{handleEditSelectId}</span>
<span id="cb19-88"><a href="#cb19-88"></a>        deleteSimulation<span class="op">=</span>{deleteSimulation}</span>
<span id="cb19-89"><a href="#cb19-89"></a>        handleEditChange<span class="op">=</span>{handleEditChange}</span>
<span id="cb19-90"><a href="#cb19-90"></a>        handleUpdate<span class="op">=</span>{handleUpdate}</span>
<span id="cb19-91"><a href="#cb19-91"></a>        setEditingSimulationId<span class="op">=</span>{setEditingSimulationId}</span>
<span id="cb19-92"><a href="#cb19-92"></a>        editingSimulationId<span class="op">=</span>{editingSimulationId}</span>
<span id="cb19-93"><a href="#cb19-93"></a>        editingSimulationData<span class="op">=</span>{editingSimulationData}</span>
<span id="cb19-94"><a href="#cb19-94"></a>      <span class="op">/&gt;</span></span>
<span id="cb19-95"><a href="#cb19-95"></a>    <span class="op">&lt;/&gt;</span></span>
<span id="cb19-96"><a href="#cb19-96"></a>  )<span class="op">;</span></span>
<span id="cb19-97"><a href="#cb19-97"></a>}<span class="op">;</span></span>
<span id="cb19-98"><a href="#cb19-98"></a></span>
<span id="cb19-99"><a href="#cb19-99"></a><span class="im">export</span> <span class="im">default</span> MySimulations<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
</div>
<p><strong>totaly decoupled <code>MySimulations.jsx</code> CRUD</strong></p>
<ul>
<li><a href="https://github.com/AlbertProfe/trafficlights/tree/bff9bb44cc67536ca3a1c296169c1279bd93d6b9/src/mysimulatons" class="external" target="_blank"><code>mySiulations</code> folder</a></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<p>Decoupled components CRUD in React promotes modularity, reusability, maintainability, and scalability, making it a preferred choice for building robust and adaptable applications.</p>
</div></div><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/reactjs/traffic-tree-v0.3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11" title="component tree project"><img src="../images/reactjs/traffic-tree-v0.3.png" class="img-fluid figure-img" alt="component tree project"></a></p>
<figcaption>component tree project</figcaption>
</figure>
</div>
<p><mark>Decoupled components CRUD in React offers significant advantages over tightly coupled implementations.</mark></p>
<p>By breaking down functionality into modular components, developers can achieve: greater <strong>reusability</strong>, <strong>scalability</strong>, <strong>better maintenance</strong> and <strong>flexibility</strong>.</p>
<p>Each component focuses on a specific task, promoting <strong>separation of concerns and simplifying maintenance</strong>. With decoupled components, testing becomes more straightforward as each unit can be isolated and tested independently.</p>
<p>Additionally, performance optimizations can be applied at the component level, leading to better overall application performance. This approach fosters cleaner codebases and facilitates collaboration among team members.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../images/reactjs/traffic-tree-v0.4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12" title="component tree decoupled"><img src="../images/reactjs/traffic-tree-v0.4.png" class="img-fluid figure-img" alt="component tree decoupled"></a></p>
<figcaption>component tree decoupled</figcaption>
</figure>
</div>
</section>
<section id="backend-spring-boot" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="backend-spring-boot"><span class="header-section-number">4.8</span> Backend: Spring Boot</h2>
<ul>
<li><a href="https://github.com/AlbertProfe/simulations/wiki"><code>simulations</code> Spring Boot: <strong>wiki</strong></a></li>
</ul>
<p><a href="../images/reactjs/simulation-architecture-v0.4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="../images/reactjs/simulation-architecture-v0.4.png" class="img-fluid"></a></p>
</section>
<section id="adding-user-login-fake-token" class="level2" data-number="4.9">
<h2 data-number="4.9" class="anchored" data-anchor-id="adding-user-login-fake-token"><span class="header-section-number">4.9</span> Adding <code>user</code>: login &amp; fake-token</h2>
<p>to-do</p>
</section>
</section>
<section id="code" class="level1 page-columns page-full" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Code</h1>
<div class="column-page-right">
<table class="caption-top table">
<thead>
<tr class="header">
<th>Code Version</th>
<th>Commit</th>
<th>Folder-Tree</th>
<th>Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://github.com/AlbertProfe/trafficlights/tree/5219b5acb611bd3c7faba7b22b14e0fd49f38b45" class="external" target="_blank">GitHub code v0.0</a></td>
<td>create project (React Vite) and core business logic</td>
<td><a href="../images/reactjs/traffic-project-v0.0-1.png" class="external" target="_blank">Basic Structure</a></td>
<td><a href="../images/reactjs/traffic-render-v0.0-1.png" class="external" target="_blank">render v0.0 render(1)</a>, <a href="../images/reactjs/traffic-render-v0.0-2.png" class="external" target="_blank">render v0.0 render(2)</a>, <a href="../images/reactjs/traffic-render-v0.0-3.png" class="external" target="_blank">render v0.0 render(3)</a></td>
</tr>
<tr class="even">
<td><a href="https://github.com/AlbertProfe/trafficlights/tree/f847634752f6109d5575417c8505634451656d6f" class="external" target="_blank">GitHub code v0.1</a></td>
<td>adding graphics, simulation ending, refresh <code>button</code>, groups crossing and random values</td>
<td></td>
<td><a href="../images/reactjs/traffic-render-v0.1-1.png" class="external" target="_blank">render v0.1 render(1)</a>, <a href="../images/reactjs/traffic-render-v0.1-2.png" class="external" target="_blank">render v0.1 render(2)</a>, <a href="../images/reactjs/traffic-render-v0.1-3.png" class="external" target="_blank">render v0.1 render(3)</a>, <a href="../images/reactjs/traffic-render-v0.1-4.png" class="external" target="_blank">render v0.1 render(4)</a></td>
</tr>
<tr class="odd">
<td><a href="https://github.com/AlbertProfe/trafficlights/tree/20e9ee5cb695d8e10ba10c3d867081d7c6285fbc" class="external" target="_blank">GitHub code v0.3 <code>integrationcruddata</code></a></td>
<td><strong>integration</strong>: adding <code>react-router-dom</code>, two routes: <code>simulation</code> and <code>mySimulations</code> and data: axios, <code>DataSimulation</code> &amp; <code>useContext</code></td>
<td><a href="../images/reactjs/traffic-branches-v0.3-4.png" class="external" target="_blank">branch <code>mySimulations</code></a>, <a href="../images/reactjs/traffic-project-v0.3.png" class="external" target="_blank">project structure</a></td>
<td><a href="../images/reactjs/traffic-render-v0.3-1.png" class="external" target="_blank">render v0.3 render(1)</a>, <a href="../images/reactjs/traffic-render-v0.3-2.png" class="external" target="_blank">render v0.3 render(2)</a>, <a href="../images/reactjs/traffic-render-v0.3-3.png" class="external" target="_blank">render v0.3 render(3)</a>,</td>
</tr>
<tr class="even">
<td><a href="https://github.com/AlbertProfe/trafficlights/tree/bff9bb44cc67536ca3a1c296169c1279bd93d6b9" class="external" target="_blank">GitHub code v0.4 <code>integrationcruddata</code></a></td>
<td>decoupling <code>mySimulations</code></td>
<td><a href="../images/reactjs/traffic-tree-v0.3.png" class="external" target="_blank">components tree</a></td>
<td></td>
</tr>
<tr class="odd">
<td><a href="" class="external" target="_blank">GitHub code v0.5</a></td>
<td>server: spring boot for mockapi</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/albertprofe\.dev");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><a href="https://creativecommons.org/licenses/by/4.0/">Attribution 4.0 International (CC BY 4.0)</a></p>
</div>   
    <div class="nav-footer-center">
<p>If you want to go far, walk slow / We love dukkha</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/Albertprofe/wiki/edit/master/reactjs/rjslab7-1.qmd" target="_blank" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/Albertprofe/wiki/issues/new" target="_blank" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/AlbertProfe/">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>